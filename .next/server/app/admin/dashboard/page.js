(()=>{var a={};a.id=957,a.ids=[957],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3247:(a,b,c)=>{Promise.resolve().then(c.bind(c,72628))},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5009:()=>{},10120:()=>{},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16333:()=>{},17021:()=>{},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22157:(a,b,c)=>{"use strict";c.d(b,{default:()=>D});var d=c(60687),e=c(43210),f=c.n(e),g=c(5979),h=c(16189),i=c(27427),j=c(78036),k=c(15744);class l{async getDashboard(){if(j.rY)return await (0,j.G1)(),{overview:{total_users:k.PZ.totalUsers,active_users_24h:k.PZ.activeUsers24h,total_shares_today:k.PZ.totalSharesToday,points_distributed_today:k.PZ.pointsDistributedToday},platform_breakdown:k.PZ.platformBreakdown,growth_metrics:{new_users_7d:k.PZ.growthMetrics.newUsers7d,user_retention_rate:k.PZ.growthMetrics.userRetentionRate,average_session_duration:k.PZ.growthMetrics.averageSessionDuration}};try{return await (0,j.Uj)(()=>j.uE.get("/admin/dashboard"))}catch(a){throw console.error("Failed to fetch admin dashboard:",a),a}}async getShareAnalytics(){if(j.rY)return await (0,j.G1)(),{platform_breakdown:{facebook:{shares:15,points:45,percentage:40},twitter:{shares:10,points:10,percentage:26.7},linkedin:{shares:8,points:40,percentage:21.3},instagram:{shares:5,points:10,percentage:13.3}},timeline:[],summary:{total_shares:38,total_points:105,active_platforms:4,average_points_per_share:2.8}};try{return await (0,j.Uj)(()=>j.uE.get("/admin/analytics"))}catch(a){throw console.error("Failed to fetch admin analytics:",a),a}}async getShareHistory(a){if(j.rY)return await (0,j.G1)(),{shares:[{share_id:1,platform:"facebook",points_earned:3,timestamp:new Date().toISOString()},{share_id:2,platform:"twitter",points_earned:1,timestamp:new Date(Date.now()-36e5).toISOString()}],pagination:{page:1,limit:10,total:2,pages:1}};let b=new URLSearchParams;a.page&&b.append("page",a.page.toString()),a.limit&&b.append("limit",a.limit.toString()),a.platform&&"all"!==a.platform&&b.append("platform",a.platform);try{return await (0,j.Uj)(()=>j.uE.get(`/admin/share-history?${b.toString()}`))}catch(a){throw console.error("Failed to fetch admin share history:",a),a}}async getPlatformStats(){if(j.rY)return await (0,j.G1)(),{platform_stats:{facebook:{shares:15,points:45,percentage:40,unique_users:8},twitter:{shares:10,points:10,percentage:26.7,unique_users:6},linkedin:{shares:8,points:40,percentage:21.3,unique_users:5},instagram:{shares:5,points:10,percentage:13.3,unique_users:3}},summary:{total_shares:38,total_points:105,total_platforms:4}};try{return await (0,j.Uj)(()=>j.uE.get("/admin/platform-stats"))}catch(a){throw console.error("Failed to fetch admin platform stats:",a),a}}async getUsers(a){if(j.rY){await (0,j.G1)();let{page:b=1,limit:c=50,search:d="",sort:e="points"}=a,f=k.rB;if(d.trim()){let a=d.toLowerCase();f=k.rB.filter(b=>b.name.toLowerCase().includes(a)||b.email.toLowerCase().includes(a))}let g=[...f].sort((a,b)=>{switch(e){case"points":return b.points-a.points;case"name":return a.name.localeCompare(b.name);case"email":return a.email.localeCompare(b.email);case"date":return new Date(b.registrationDate).getTime()-new Date(a.registrationDate).getTime();default:return 0}}),h=(b-1)*c;return{users:g.slice(h,h+c).map(a=>({user_id:a.id,name:a.name,email:a.email,points:a.points,rank:a.rank,shares_count:a.sharesCount,status:a.status,last_activity:a.lastActivity,created_at:a.registrationDate})),pagination:{page:b,limit:c,total:g.length,pages:Math.ceil(g.length/c)}}}return(0,j.Uj)(()=>j.uE.get("/admin/users",a))}async sendBulkEmail(a){if(j.rY){await (0,j.G1)(1e3);let b=k.rB.filter(b=>b.points>=a.min_points);return console.log("Mock bulk email sent:",{subject:a.subject,body:a.body,recipients:b.length,minPoints:a.min_points}),{message:`Bulk email sent successfully to ${b.length} users`,recipients:b.length}}try{return await (0,j.Uj)(()=>j.uE.post("/admin/send-bulk-email",a))}catch(a){throw console.error("Failed to send bulk email:",a),a}}async promoteUser(a){if(j.rY){await (0,j.G1)();let b=k.rB.find(b=>b.id===a);if(!b)throw Error("User not found");return b.isAdmin=!0,{message:`User ${b.name} promoted to admin successfully`,user:b.name}}return await (0,j.Uj)(()=>j.uE.post("/admin/promote",{user_id:a}))}async deleteAllUsers(){if(j.rY){await (0,j.G1)();let a=k.rB.filter(a=>!a.isAdmin);if(0===a.length)throw Error("No non-admin users found to delete");let b={export_timestamp:new Date().toISOString(),exported_by_admin:"mock_admin@example.com",total_users_exported:a.length,users:a.map(a=>({id:a.id,name:a.name,email:a.email,total_points:a.points,shares_count:a.sharesCount,default_rank:a.rank,current_rank:a.rank,is_active:"active"===a.status,created_at:a.registrationDate,updated_at:a.lastActivity,share_events:[]}))},c=new Blob([JSON.stringify(b,null,2)],{type:"application/json"}),d=URL.createObjectURL(c),e=document.createElement("a");return e.href=d,e.download=`users_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(d),k.rB.splice(0,k.rB.length,...k.rB.filter(a=>a.isAdmin)),{message:`Successfully deleted ${a.length} users`,export_file:`users_backup_${new Date().toISOString().split("T")[0]}.json`,export_data:b}}let a=await (0,j.Uj)(()=>j.uE.post("/admin/delete-all-users"));if(a&&"export_data"in a){let b=new Blob([JSON.stringify(a.export_data,null,2)],{type:"application/json"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=a.export_file||"users_backup.json",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)}return a}async exportUsers(a,b){if(j.rY){await (0,j.G1)();let c=k.rB;if(b?.search){let a=b.search.toLowerCase();c=c.filter(b=>b.name.toLowerCase().includes(a)||b.email.toLowerCase().includes(a))}if(b?.minPoints&&(c=c.filter(a=>a.points>=b.minPoints)),b?.status&&(c=c.filter(a=>a.status===b.status)),b?.dateRange){let a=new Date(b.dateRange.start),d=new Date(b.dateRange.end);c=c.filter(b=>{let c=new Date(b.registrationDate);return c>=a&&c<=d})}return"json"===a?new Blob([JSON.stringify(c.map(a=>({id:a.id,name:a.name,email:a.email,points:a.points,rank:a.rank,shares_count:a.sharesCount,status:a.status,registration_date:a.registrationDate,last_activity:a.lastActivity,is_admin:a.isAdmin})),null,2)],{type:"application/json"}):new Blob([["ID,Name,Email,Points,Rank,Shares,Status,Registration Date,Last Activity,Is Admin",...c.map(a=>[a.id,`"${a.name}"`,a.email,a.points,a.rank,a.sharesCount,a.status,a.registrationDate,a.lastActivity,a.isAdmin?"Yes":"No"].join(","))].join("\n")],{type:"text/csv"})}let c=new URLSearchParams;c.append("format",a),b?.search&&c.append("search",b.search),b?.minPoints&&c.append("min_points",b.minPoints.toString()),b?.status&&c.append("status",b.status),b?.dateRange&&(c.append("start_date",b.dateRange.start),c.append("end_date",b.dateRange.end));let d=await fetch(`${j.uE.baseURL}/users/export?${c}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!d.ok)throw Error("Export failed");return d.blob()}async getUserById(a){if(j.rY){await (0,j.G1)();let b=k.rB.find(b=>b.id===a);if(!b)throw Error("User not found");return{user_id:b.id,name:b.name,email:b.email,points:b.points,rank:b.rank,shares_count:b.sharesCount,status:b.status,last_activity:b.lastActivity,created_at:b.registrationDate,is_admin:b.isAdmin}}return(0,j.Uj)(()=>j.uE.get(`/admin/users/${a}`))}async updateUserStatus(a,b){if(j.rY){await (0,j.G1)();let c=k.rB.find(b=>b.id===a);if(!c)throw Error("User not found");return c.status=b,{message:`User ${c.name} ${"active"===b?"activated":"deactivated"} successfully`}}return(0,j.Uj)(()=>j.uE.put(`/admin/users/${a}/status`,{status:b}))}async getAdminStats(){if(j.rY){await (0,j.G1)(200);let a=k.rB.filter(a=>"active"===a.status).length,b=k.rB.reduce((a,b)=>a+b.sharesCount,0),c=k.rB.reduce((a,b)=>a+b.points,0),d=Object.entries(k.PZ.platformBreakdown).reduce((a,[b,c])=>c.shares>(k.PZ.platformBreakdown[a]?.shares||0)?b:a,"linkedin");return{totalUsers:k.rB.length,activeUsers:a,totalShares:b,totalPoints:c,topPlatform:d}}let a=await this.getDashboard();return{totalUsers:a.overview.total_users,activeUsers:a.overview.active_users_24h,totalShares:a.overview.total_shares_today,totalPoints:a.overview.points_distributed_today,topPlatform:Object.entries(a.platform_breakdown).reduce((b,[c,d])=>d.shares>(a.platform_breakdown[b[0]]?.shares||0)?[c,d]:b,["",{shares:0,percentage:0}])[0]}}}let m=new l;var n=c(35241),o=c(23637);class p{async getCampaignSchedule(){if(j.rY){await (0,j.G1)();let a=new Date().toISOString(),b=Object.entries(this.MOCK_CAMPAIGNS).filter(([a,b])=>"instant"!==b.schedule&&new Date(b.schedule)<=new Date).map(([a,b])=>a);return{campaigns:this.MOCK_CAMPAIGNS,current_time:a,due_campaigns:b}}return(0,j.Uj)(()=>j.uE.get("/campaigns/schedule"))}async sendCampaign(a){if(j.rY){if(await (0,j.G1)(1e3),!this.MOCK_CAMPAIGNS[a.campaign_type])throw Error(`Invalid campaign type: ${a.campaign_type}`);let b="mock-task-"+Date.now();return a.user_email&&a.user_name?{success:!0,message:`Campaign '${a.campaign_type}' queued for ${a.user_email}`,task_id:b,details:{campaign_type:a.campaign_type,recipient:a.user_email,send_type:"individual"}}:{success:!0,message:`Bulk campaign '${a.campaign_type}' queued for all users`,task_id:b,details:{campaign_type:a.campaign_type,send_type:"bulk"}}}return(0,j.Uj)(()=>j.uE.post("/campaigns/send",a))}async getCampaignStatus(a){if(j.rY){await (0,j.G1)();let b=this.MOCK_CAMPAIGNS[a];if(!b)throw Error(`Invalid campaign type: ${a}`);let c=new Date,d="instant"===b.schedule?c:new Date(b.schedule),e="instant"===b.schedule||c>=d;return{campaign_type:a,subject:b.subject,schedule:b.schedule,status:b.status,is_due:e,current_time:c.toISOString()}}return(0,j.Uj)(()=>j.uE.get(`/campaigns/status/${a}`))}async sendTestCampaign(a="welcome"){if(j.rY){if(await (0,j.G1)(800),!this.MOCK_CAMPAIGNS[a])throw Error(`Invalid campaign type: ${a}`);return{success:!0,message:`Test campaign '${a}' sent to Sahil Saurav`,task_id:"mock-test-task-"+Date.now(),details:{campaign_type:a,recipient:"sahilsaurav2507@gmail.com",send_type:"individual"}}}return(0,j.Uj)(()=>j.uE.post("/campaigns/test-sahil",{campaign_type:a}))}async getNewUserCampaignsPreview(){if(j.rY){await (0,j.G1)();let a=new Date,b=Object.entries(this.MOCK_CAMPAIGNS).filter(([b,c])=>"welcome"!==b&&"instant"!==c.schedule&&new Date(c.schedule)>a).map(([b,c])=>{let d=Math.ceil((new Date(c.schedule).getTime()-a.getTime())/864e5);return{campaign_type:b,subject:c.subject,schedule:c.schedule,days_from_now:d}}),c=Object.entries(this.MOCK_CAMPAIGNS).filter(([b,c])=>"welcome"!==b&&"instant"!==c.schedule&&new Date(c.schedule)<=a).map(([a,b])=>a);return{instant_email:{campaign_type:"welcome",subject:this.MOCK_CAMPAIGNS.welcome.subject,will_be_sent:!0,note:"Always sent immediately on registration"},future_campaigns:{count:b.length,campaigns:b,note:"These will be sent automatically on scheduled dates"},past_campaigns:{count:c.length,campaigns:c,note:"These will NOT be sent to new users (backdated)"},current_time:a.toISOString()}}return(0,j.Uj)(()=>j.uE.get("/campaigns/new-user-campaigns"))}getCampaignTypes(){return Object.keys(this.MOCK_CAMPAIGNS)}formatSchedule(a){if("instant"===a)return"Instant (on registration)";try{return new Date(a).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})+" IST"}catch{return a}}isCampaignDue(a){if("instant"===a)return!0;try{return new Date(a)<=new Date}catch{return!1}}getStatusColor(a,b){switch(a){case"active":return b?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800";case"scheduled":return b?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800";case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}constructor(){this.MOCK_CAMPAIGNS={welcome:{subject:"✨ Welcome Aboard, LawVriksh Founding Member!",schedule:"instant",status:"active"},search_engine:{subject:"\uD83D\uDD0D Your Search Engine is Ready!",schedule:"2025-07-26T14:00:00+05:30",status:"scheduled"},portfolio_builder:{subject:"\uD83D\uDCC1 Portfolio Builder Complete!",schedule:"2025-07-30T10:30:00+05:30",status:"scheduled"},platform_complete:{subject:"\uD83D\uDE80 LawVriksh Platform Launch!",schedule:"2025-08-03T09:00:00+05:30",status:"scheduled"}}}}let q=new p;c(26521);let r=()=>{let[a,b]=(0,e.useState)(null),[c,f]=(0,e.useState)(null),[g,h]=(0,e.useState)(!0),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(null),[m,p]=(0,e.useState)("schedule"),[r,s]=(0,e.useState)("welcome"),[t,u]=(0,e.useState)("bulk"),[v,w]=(0,e.useState)(""),[x,y]=(0,e.useState)("");(0,e.useEffect)(()=>{z()},[]);let z=async()=>{try{h(!0),j(null);let[a,c]=await Promise.all([q.getCampaignSchedule(),q.getNewUserCampaignsPreview()]);b(a),f(c)}catch(a){j(a instanceof Error?a.message:"Failed to load campaign data")}finally{h(!1)}},A=async()=>{if(r)try{l(r),j(null);let a={campaign_type:r,..."individual"===t&&{user_email:v,user_name:x}},b=await q.sendCampaign(a);if(b.success)alert(`✅ ${b.message}`),w(""),y("");else throw Error(b.message)}catch(a){j(a instanceof Error?a.message:"Failed to send campaign")}finally{l(null)}},B=async a=>{try{l(a),j(null);let b=await q.sendTestCampaign(a);if(b.success)alert(`✅ Test campaign sent: ${b.message}`);else throw Error(b.message)}catch(a){j(a instanceof Error?a.message:"Failed to send test campaign")}finally{l(null)}};return g?(0,d.jsx)("div",{className:"campaign-loading",children:(0,d.jsx)(n.A,{})}):(0,d.jsxs)("div",{className:"campaign-management",children:[(0,d.jsx)("div",{className:"campaign-tabs",children:(0,d.jsx)("nav",{children:[{key:"schedule",label:"Campaign Schedule"},{key:"send",label:"Send Campaign"},{key:"preview",label:"New User Preview"}].map(a=>(0,d.jsx)("button",{onClick:()=>p(a.key),className:`campaign-tab ${m===a.key?"active":""}`,children:a.label},a.key))})}),(0,d.jsxs)("div",{className:"campaign-content",children:[i&&(0,d.jsx)(o.A,{message:i}),"schedule"===m&&a&&(0,d.jsxs)("div",{className:"campaign-schedule-section",children:[(0,d.jsxs)("div",{className:"campaign-schedule-header",children:[(0,d.jsx)("h3",{className:"campaign-schedule-title",children:"Campaign Schedule Overview"}),(0,d.jsx)("button",{onClick:z,className:"campaign-refresh-button",children:"Refresh"})]}),(0,d.jsx)("div",{className:"campaign-schedule-grid",children:Object.entries(a.campaigns).map(([a,b])=>{let c=q.isCampaignDue(b.schedule);return(0,d.jsx)("div",{className:"campaign-schedule-item",children:(0,d.jsxs)("div",{className:"campaign-schedule-item-header",children:[(0,d.jsxs)("div",{className:"campaign-schedule-item-content",children:[(0,d.jsxs)("div",{className:"campaign-schedule-item-title-section",children:[(0,d.jsx)("h4",{className:"campaign-schedule-item-title",children:a.replace("_"," ")}),(0,d.jsx)("span",{className:`campaign-status-badge ${b.status}`,children:b.status}),c&&(0,d.jsx)("span",{className:"campaign-due-badge",children:"Due"})]}),(0,d.jsx)("p",{className:"campaign-schedule-item-subject",children:b.subject}),(0,d.jsxs)("p",{className:"campaign-schedule-item-schedule",children:["Schedule: ",q.formatSchedule(b.schedule)]})]}),(0,d.jsx)("button",{onClick:()=>B(a),disabled:k===a,className:"campaign-test-button",children:k===a?"Sending...":"Test Send"})]})},a)})}),a.due_campaigns.length>0&&(0,d.jsxs)("div",{className:"campaign-due-campaigns",children:[(0,d.jsx)("h4",{className:"campaign-due-campaigns-title",children:"Due Campaigns"}),(0,d.jsxs)("p",{className:"campaign-due-campaigns-text",children:["The following campaigns are due to be sent: ",a.due_campaigns.join(", ")]})]})]}),"send"===m&&(0,d.jsxs)("div",{className:"campaign-send-section",children:[(0,d.jsx)("h3",{className:"campaign-send-title",children:"Send Campaign Manually"}),(0,d.jsxs)("div",{className:"campaign-send-grid",children:[(0,d.jsxs)("div",{className:"campaign-send-form-group",children:[(0,d.jsx)("label",{className:"campaign-send-label",children:"Campaign Type"}),(0,d.jsx)("select",{value:r,onChange:a=>s(a.target.value),className:"campaign-send-select",children:q.getCampaignTypes().map(a=>(0,d.jsx)("option",{value:a,children:a.replace("_"," ").toUpperCase()},a))})]}),(0,d.jsxs)("div",{className:"campaign-send-form-group",children:[(0,d.jsx)("label",{className:"campaign-send-label",children:"Send Type"}),(0,d.jsxs)("select",{value:t,onChange:a=>u(a.target.value),className:"campaign-send-select",children:[(0,d.jsx)("option",{value:"bulk",children:"Bulk (All Users)"}),(0,d.jsx)("option",{value:"individual",children:"Individual User"})]})]})]}),"individual"===t&&(0,d.jsxs)("div",{className:"campaign-send-grid",children:[(0,d.jsxs)("div",{className:"campaign-send-form-group",children:[(0,d.jsx)("label",{className:"campaign-send-label",children:"User Email"}),(0,d.jsx)("input",{type:"email",value:v,onChange:a=>w(a.target.value),placeholder:"user@example.com",className:"campaign-send-input"})]}),(0,d.jsxs)("div",{className:"campaign-send-form-group",children:[(0,d.jsx)("label",{className:"campaign-send-label",children:"User Name"}),(0,d.jsx)("input",{type:"text",value:x,onChange:a=>y(a.target.value),placeholder:"John Doe",className:"campaign-send-input"})]})]}),(0,d.jsx)("button",{onClick:A,disabled:null!==k||"individual"===t&&(!v||!x),className:"campaign-send-button",children:k?"Sending...":`Send ${"bulk"===t?"Bulk":"Individual"} Campaign`})]}),"preview"===m&&c&&(0,d.jsxs)("div",{className:"campaign-preview-section",children:[(0,d.jsx)("h3",{className:"campaign-preview-title",children:"New User Campaign Preview"}),(0,d.jsxs)("div",{className:"campaign-preview-grid",children:[(0,d.jsxs)("div",{className:"campaign-preview-card instant",children:[(0,d.jsx)("h4",{className:"campaign-preview-card-title",children:"Instant Email"}),(0,d.jsx)("p",{className:"campaign-preview-card-note",children:(0,d.jsx)("strong",{children:c.instant_email.subject})}),(0,d.jsx)("p",{className:"campaign-preview-card-note",children:c.instant_email.note})]}),(0,d.jsxs)("div",{className:"campaign-preview-card future",children:[(0,d.jsxs)("h4",{className:"campaign-preview-card-title",children:["Future Campaigns (",c.future_campaigns.count,")"]}),(0,d.jsx)("p",{className:"campaign-preview-card-note",children:c.future_campaigns.note}),(0,d.jsx)("div",{className:"campaign-preview-campaigns-grid",children:c.future_campaigns.campaigns.map(a=>(0,d.jsx)("div",{className:"campaign-preview-campaign-item",children:(0,d.jsxs)("div",{className:"campaign-preview-campaign-header",children:[(0,d.jsxs)("div",{className:"campaign-preview-campaign-content",children:[(0,d.jsx)("p",{className:"campaign-preview-campaign-subject",children:a.subject}),(0,d.jsx)("p",{className:"campaign-preview-campaign-schedule",children:q.formatSchedule(a.schedule)})]}),(0,d.jsxs)("span",{className:"campaign-preview-campaign-badge",children:[a.days_from_now," days"]})]})},a.campaign_type))})]}),c.past_campaigns.count>0&&(0,d.jsxs)("div",{className:"campaign-preview-card past",children:[(0,d.jsxs)("h4",{className:"campaign-preview-card-title",children:["Past Campaigns (",c.past_campaigns.count,")"]}),(0,d.jsx)("p",{className:"campaign-preview-card-note",children:c.past_campaigns.note}),(0,d.jsx)("p",{className:"campaign-preview-past-text",children:c.past_campaigns.campaigns.join(", ")})]})]})]})]})]})};c(10120);let s=()=>{let[a,b]=(0,e.useState)([]),[c,f]=(0,e.useState)(!0),[g,h]=(0,e.useState)(null),[i,j]=(0,e.useState)({page:1,limit:20,total:0,pages:0}),[k,l]=(0,e.useState)({search:"",status:"all",minPoints:0,sortBy:"points",sortOrder:"desc",dateRange:{start:"",end:""}}),[p,q]=(0,e.useState)(new Set),[r,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)(!1),[v,w]=(0,e.useState)(!1),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)(null),B=(0,e.useCallback)(async()=>{try{f(!0),h(null);let a={page:i.page,limit:i.limit,search:k.search,sort:k.sortBy},c=await m.getUsers(a),d=c.users;if("all"!==k.status&&(d=d.filter(a=>a.status===k.status)),k.minPoints>0&&(d=d.filter(a=>a.points>=k.minPoints)),k.dateRange.start&&k.dateRange.end){let a=new Date(k.dateRange.start),b=new Date(k.dateRange.end);d=d.filter(c=>{let d=new Date(c.created_at);return d>=a&&d<=b})}d.sort((a,b)=>{let c,d;switch(k.sortBy){case"name":c=a.name.toLowerCase(),d=b.name.toLowerCase();break;case"email":c=a.email.toLowerCase(),d=b.email.toLowerCase();break;case"points":default:c=a.points,d=b.points;break;case"date":c=new Date(a.created_at),d=new Date(b.created_at)}return"asc"===k.sortOrder?c>d?1:-1:c<d?1:-1}),b(d),j(a=>({...a,total:c.pagination.total,pages:c.pagination.pages}))}catch(a){h(a instanceof Error?a.message:"Failed to load users")}finally{f(!1)}},[i.page,i.limit,k]);(0,e.useEffect)(()=>{B()},[B]);let C=(a,b)=>{l(c=>({...c,[a]:b})),j(a=>({...a,page:1}))},D=async a=>{try{u(!0);let b={search:k.search||void 0,minPoints:k.minPoints>0?k.minPoints:void 0,status:"all"!==k.status?k.status:void 0,dateRange:k.dateRange.start&&k.dateRange.end?k.dateRange:void 0},c=await m.exportUsers(a,b),d=window.URL.createObjectURL(c),e=document.createElement("a");e.href=d,e.download=`users_export_${new Date().toISOString().split("T")[0]}.${a}`,document.body.appendChild(e),e.click(),document.body.removeChild(e),window.URL.revokeObjectURL(d),s(!1)}catch(a){h(a instanceof Error?a.message:"Export failed")}finally{u(!1)}},E=async(a,c)=>{try{let d="active"===c?"inactive":"active";await m.updateUserStatus(a,d),b(b=>b.map(b=>b.user_id===a?{...b,status:d}:b))}catch(a){h(a instanceof Error?a.message:"Failed to update user status")}},F=async a=>{try{await m.promoteUser(a),b(b=>b.map(b=>b.user_id===a?{...b,is_admin:!0}:b)),alert("User promoted to admin successfully!")}catch(a){h(a instanceof Error?a.message:"Failed to promote user")}},G=async()=>{try{y(!0),h(null);let a=await m.deleteAllUsers();b([]),j(a=>({...a,total:0,pages:0})),alert(`${a.message}
Data exported to: ${a.export_file}`),w(!1),await B()}catch(a){h(a instanceof Error?a.message:"Failed to delete all users")}finally{y(!1)}},H=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return c&&0===a.length?(0,d.jsx)("div",{className:"user-management-loading",children:(0,d.jsx)(n.A,{})}):(0,d.jsxs)("div",{className:"user-management-container",children:[(0,d.jsxs)("div",{className:"user-management-header",children:[(0,d.jsxs)("div",{className:"user-management-header-content",children:[(0,d.jsx)("h3",{className:"user-management-title",children:"Enhanced User Management"}),(0,d.jsxs)("div",{className:"user-management-actions",children:[(0,d.jsx)("button",{onClick:()=>s(!0),className:"user-management-button primary",children:"Export Users"}),(0,d.jsx)("button",{onClick:()=>w(!0),className:"user-management-button danger",children:"Delete All Users"}),(0,d.jsx)("button",{onClick:B,className:"user-management-button secondary",children:"Refresh"})]})]}),(0,d.jsxs)("div",{className:"user-management-filters",children:[(0,d.jsxs)("div",{className:"user-management-filter-group",children:[(0,d.jsx)("label",{className:"user-management-filter-label",children:"Search"}),(0,d.jsx)("input",{type:"text",value:k.search,onChange:a=>C("search",a.target.value),placeholder:"Name or email...",className:"user-management-input"})]}),(0,d.jsxs)("div",{className:"user-management-filter-group",children:[(0,d.jsx)("label",{className:"user-management-filter-label",children:"Status"}),(0,d.jsxs)("select",{value:k.status,onChange:a=>C("status",a.target.value),className:"user-management-select",children:[(0,d.jsx)("option",{value:"all",children:"All Users"}),(0,d.jsx)("option",{value:"active",children:"Active"}),(0,d.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,d.jsxs)("div",{className:"user-management-filter-group",children:[(0,d.jsx)("label",{className:"user-management-filter-label",children:"Min Points"}),(0,d.jsx)("input",{type:"number",value:k.minPoints,onChange:a=>C("minPoints",parseInt(a.target.value)||0),min:"0",className:"user-management-input"})]}),(0,d.jsxs)("div",{className:"user-management-filter-group",children:[(0,d.jsx)("label",{className:"user-management-filter-label",children:"Sort By"}),(0,d.jsxs)("select",{value:k.sortBy,onChange:a=>C("sortBy",a.target.value),className:"user-management-select",children:[(0,d.jsx)("option",{value:"points",children:"Points"}),(0,d.jsx)("option",{value:"name",children:"Name"}),(0,d.jsx)("option",{value:"email",children:"Email"}),(0,d.jsx)("option",{value:"date",children:"Registration Date"})]})]})]}),(0,d.jsxs)("div",{className:"user-management-filters-extended",children:[(0,d.jsxs)("div",{className:"user-management-filter-group",children:[(0,d.jsx)("label",{className:"user-management-filter-label",children:"Start Date"}),(0,d.jsx)("input",{type:"date",value:k.dateRange.start,onChange:a=>C("dateRange",{...k.dateRange,start:a.target.value}),className:"user-management-input"})]}),(0,d.jsxs)("div",{className:"user-management-filter-group",children:[(0,d.jsx)("label",{className:"user-management-filter-label",children:"End Date"}),(0,d.jsx)("input",{type:"date",value:k.dateRange.end,onChange:a=>C("dateRange",{...k.dateRange,end:a.target.value}),className:"user-management-input"})]}),(0,d.jsx)("div",{className:"user-management-filter-actions",children:(0,d.jsx)("button",{onClick:()=>C("sortOrder","asc"===k.sortOrder?"desc":"asc"),className:"user-management-button secondary",children:"asc"===k.sortOrder?"↑ Ascending":"↓ Descending"})})]})]}),g&&(0,d.jsx)("div",{style:{padding:"1rem"},children:(0,d.jsx)(o.A,{message:g})}),(0,d.jsxs)("div",{className:"user-management-content",children:[p.size>0&&(0,d.jsx)("div",{className:"user-management-selection-info",children:(0,d.jsxs)("p",{className:"user-management-selection-text",children:[p.size," user(s) selected"]})}),(0,d.jsx)("div",{className:"user-management-table-wrapper",children:(0,d.jsxs)("table",{className:"user-management-table",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,d.jsx)("input",{type:"checkbox",checked:p.size===a.length&&a.length>0,onChange:()=>{p.size===a.length?q(new Set):q(new Set(a.map(a=>a.user_id)))},className:"user-management-checkbox"})}),(0,d.jsx)("th",{children:"User"}),(0,d.jsx)("th",{children:"Points & Rank"}),(0,d.jsx)("th",{children:"Status"}),(0,d.jsx)("th",{children:"Registration"}),(0,d.jsx)("th",{children:"Actions"})]})}),(0,d.jsx)("tbody",{children:a.map(a=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)("input",{type:"checkbox",checked:p.has(a.user_id),onChange:()=>(a=>{q(b=>{let c=new Set(b);return c.has(a)?c.delete(a):c.add(a),c})})(a.user_id),className:"user-management-checkbox"})}),(0,d.jsx)("td",{children:(0,d.jsxs)("div",{className:"user-cell",children:[(0,d.jsx)("div",{className:"user-avatar",children:(0,d.jsx)("div",{className:"user-avatar-circle",children:(0,d.jsx)("span",{className:"user-avatar-initial",children:a.name.charAt(0).toUpperCase()})})}),(0,d.jsxs)("div",{className:"user-info",children:[(0,d.jsx)("div",{className:"user-name",children:a.name}),(0,d.jsx)("div",{className:"user-email",children:a.email}),a.is_admin&&(0,d.jsx)("span",{className:"user-admin-badge",children:"Admin"})]})]})}),(0,d.jsx)("td",{children:(0,d.jsxs)("div",{className:"points-cell",children:[(0,d.jsxs)("div",{className:"points-value",children:[a.points," points"]}),(0,d.jsxs)("div",{className:"points-details",children:["Rank: ",a.rank||"N/A"," • ",a.shares_count," shares"]})]})}),(0,d.jsx)("td",{children:(0,d.jsx)("span",{className:`status-badge ${"active"===a.status?"active":"inactive"}`,children:a.status})}),(0,d.jsx)("td",{className:"date-cell",children:H(a.created_at)}),(0,d.jsxs)("td",{className:"actions-cell",children:[(0,d.jsx)("button",{onClick:()=>A(a),className:"action-link",children:"View"}),(0,d.jsx)("button",{onClick:()=>E(a.user_id,a.status),className:"action-link warning",children:"active"===a.status?"Deactivate":"Activate"}),!a.is_admin&&(0,d.jsx)("button",{onClick:()=>F(a.user_id),className:"action-link purple",children:"Promote"})]})]},a.user_id))})]})}),(0,d.jsxs)("div",{className:"user-management-pagination",children:[(0,d.jsxs)("div",{className:"pagination-info",children:["Showing ",(i.page-1)*i.limit+1," to ",Math.min(i.page*i.limit,i.total)," of ",i.total," users"]}),(0,d.jsxs)("div",{className:"pagination-controls",children:[(0,d.jsx)("button",{onClick:()=>j(a=>({...a,page:Math.max(1,a.page-1)})),disabled:1===i.page,className:"pagination-button",children:"Previous"}),(0,d.jsxs)("span",{className:"pagination-current",children:["Page ",i.page," of ",i.pages]}),(0,d.jsx)("button",{onClick:()=>j(a=>({...a,page:Math.min(a.pages,a.page+1)})),disabled:i.page===i.pages,className:"pagination-button",children:"Next"})]})]})]}),r&&(0,d.jsx)("div",{className:"modal-overlay",children:(0,d.jsx)("div",{className:"modal-container",children:(0,d.jsxs)("div",{className:"modal-content",children:[(0,d.jsx)("h3",{className:"modal-title",children:"Export Users"}),(0,d.jsx)("p",{className:"modal-text",children:"Export users with current filters applied. Choose your preferred format:"}),(0,d.jsxs)("div",{className:"modal-actions",children:[(0,d.jsx)("button",{onClick:()=>D("csv"),disabled:t,className:"modal-button primary",children:t?"Exporting...":"Export CSV"}),(0,d.jsx)("button",{onClick:()=>D("json"),disabled:t,className:"modal-button secondary",children:t?"Exporting...":"Export JSON"})]}),(0,d.jsx)("button",{onClick:()=>s(!1),className:"modal-close-button",children:"Cancel"})]})})}),v&&(0,d.jsx)("div",{className:"modal-overlay",children:(0,d.jsx)("div",{className:"modal-container",children:(0,d.jsxs)("div",{className:"modal-content",children:[(0,d.jsx)("h3",{className:"modal-title",children:"⚠️ Delete All Users"}),(0,d.jsxs)("div",{className:"modal-text",children:[(0,d.jsx)("p",{children:(0,d.jsx)("strong",{children:"This action will permanently delete ALL non-admin users and their registration data!"})}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"What will be deleted:"})," User accounts, share events, and points"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("strong",{children:"What will be preserved:"})," Feedback responses (anonymized)"]}),(0,d.jsx)("p",{children:"Before deletion, all user data will be automatically exported to a JSON file for backup."}),(0,d.jsx)("p",{children:"This action cannot be undone. Are you sure you want to proceed?"})]}),(0,d.jsxs)("div",{className:"modal-actions",children:[(0,d.jsx)("button",{onClick:G,disabled:x,className:"modal-button danger",children:x?"Deleting & Exporting...":"Yes, Delete All Users"}),(0,d.jsx)("button",{onClick:()=>w(!1),disabled:x,className:"modal-button secondary",children:"Cancel"})]})]})})}),z&&(0,d.jsx)("div",{className:"modal-overlay",children:(0,d.jsx)("div",{className:"modal-container",children:(0,d.jsxs)("div",{className:"modal-content",children:[(0,d.jsx)("h3",{className:"modal-title",children:"User Details"}),(0,d.jsxs)("div",{className:"user-detail-grid",children:[(0,d.jsxs)("div",{className:"user-detail-item",children:[(0,d.jsx)("label",{className:"user-detail-label",children:"Name"}),(0,d.jsx)("p",{className:"user-detail-value",children:z.name})]}),(0,d.jsxs)("div",{className:"user-detail-item",children:[(0,d.jsx)("label",{className:"user-detail-label",children:"Email"}),(0,d.jsx)("p",{className:"user-detail-value",children:z.email})]}),(0,d.jsxs)("div",{className:"user-detail-item",children:[(0,d.jsx)("label",{className:"user-detail-label",children:"Points"}),(0,d.jsx)("p",{className:"user-detail-value",children:z.points})]}),(0,d.jsxs)("div",{className:"user-detail-item",children:[(0,d.jsx)("label",{className:"user-detail-label",children:"Rank"}),(0,d.jsx)("p",{className:"user-detail-value",children:z.rank||"N/A"})]}),(0,d.jsxs)("div",{className:"user-detail-item",children:[(0,d.jsx)("label",{className:"user-detail-label",children:"Shares"}),(0,d.jsx)("p",{className:"user-detail-value",children:z.shares_count})]}),(0,d.jsxs)("div",{className:"user-detail-item",children:[(0,d.jsx)("label",{className:"user-detail-label",children:"Status"}),(0,d.jsx)("p",{className:"user-detail-value",children:z.status})]}),(0,d.jsxs)("div",{className:"user-detail-item",children:[(0,d.jsx)("label",{className:"user-detail-label",children:"Registration Date"}),(0,d.jsx)("p",{className:"user-detail-value",children:H(z.created_at)})]}),(0,d.jsxs)("div",{className:"user-detail-item",children:[(0,d.jsx)("label",{className:"user-detail-label",children:"Last Activity"}),(0,d.jsx)("p",{className:"user-detail-value",children:z.last_activity?H(z.last_activity):"N/A"})]})]}),(0,d.jsx)("button",{onClick:()=>A(null),className:"modal-close-button",children:"Close"})]})})})]})};class t{async getShareHistory(a={}){if(j.rY){await (0,j.G1)();let{page:b=1,limit:c=20,platform:d,dateRange:e}=a,f=[...this.MOCK_SHARE_HISTORY];if(d&&(f=f.filter(a=>a.platform===d)),e){let a=new Date(e.start),b=new Date(e.end);f=f.filter(c=>{let d=new Date(c.timestamp);return d>=a&&d<=b})}f.sort((a,b)=>new Date(b.timestamp).getTime()-new Date(a.timestamp).getTime());let g=(b-1)*c,h=f.slice(g,g+c),i=f.reduce((a,b)=>a+b.points_earned,0),k=[...new Set(f.map(a=>a.platform))];return{shares:h,pagination:{page:b,limit:c,total:f.length,pages:Math.ceil(f.length/c)},summary:{total_shares:f.length,total_points_earned:i,platforms_used:k}}}let b=new URLSearchParams;return a.page&&b.append("page",a.page.toString()),a.limit&&b.append("limit",a.limit.toString()),a.platform&&b.append("platform",a.platform),a.dateRange&&(b.append("start_date",a.dateRange.start),b.append("end_date",a.dateRange.end)),(0,j.Uj)(()=>j.uE.get(`/shares/history?${b}`))}async getShareAnalytics(a={}){if(j.rY){await (0,j.G1)();let b={...this.MOCK_ANALYTICS};if(a.platform){let c=b.platform_breakdown[a.platform];c&&(b.platform_breakdown={[a.platform]:c},b.summary={total_shares:c.shares,total_points:c.points,active_platforms:1,average_points_per_share:c.points/c.shares})}return b}let b=new URLSearchParams;return a.period&&b.append("period",a.period),a.platform&&b.append("platform",a.platform),(0,j.Uj)(()=>j.uE.get(`/shares/analytics?${b}`))}async getAvailablePlatforms(){return j.rY?(await (0,j.G1)(200),["facebook","twitter","linkedin","instagram","whatsapp"]):(0,j.Uj)(()=>j.uE.get("/shares/platforms"))}async getPlatformStatistics(){return j.rY?(await (0,j.G1)(),{linkedin:{total_shares:150,total_points:750,unique_users:120,average_points_per_user:6.25},facebook:{total_shares:200,total_points:600,unique_users:180,average_points_per_user:3.33},twitter:{total_shares:300,total_points:300,unique_users:250,average_points_per_user:1.2},instagram:{total_shares:100,total_points:200,unique_users:90,average_points_per_user:2.22},whatsapp:{total_shares:50,total_points:0,unique_users:45,average_points_per_user:0}}):(0,j.Uj)(()=>j.uE.get("/admin/platform-statistics"))}async getShareTrends(a){if(j.rY){await (0,j.G1)();let{period:b,days:c=30}=a,d=[],e=new Date;for(let a=c-1;a>=0;a--){let c=new Date(e);c.setDate(c.getDate()-a),"daily"===b?d.push(c.toLocaleDateString("en-US",{month:"short",day:"numeric"})):"weekly"===b?d.push(`Week ${Math.ceil(c.getDate()/7)}`):d.push(c.toLocaleDateString("en-US",{month:"short"}))}let f=["#0077B5","#1877F2","#1DA1F2","#E4405F"],g=["linkedin","facebook","twitter","instagram"].map((a,b)=>({platform:a,data:d.map(()=>Math.floor(20*Math.random())+1),color:f[b]}));return{labels:d,datasets:g}}let b=new URLSearchParams;return b.append("period",a.period),a.days&&b.append("days",a.days.toString()),(0,j.Uj)(()=>j.uE.get(`/shares/trends?${b}`))}formatPlatformName(a){return({facebook:"Facebook",twitter:"Twitter",linkedin:"LinkedIn",instagram:"Instagram",whatsapp:"WhatsApp"})[a]||a.charAt(0).toUpperCase()+a.slice(1)}getPlatformColor(a){return({facebook:"#1877F2",twitter:"#1DA1F2",linkedin:"#0077B5",instagram:"#E4405F",whatsapp:"#25D366"})[a]||"#6B7280"}getPlatformIcon(a){return({facebook:"\uD83D\uDCD8",twitter:"\uD83D\uDC26",linkedin:"\uD83D\uDCBC",instagram:"\uD83D\uDCF7",whatsapp:"\uD83D\uDCAC"})[a]||"\uD83D\uDCF1"}calculateEngagementMetrics(a){let{platform_breakdown:b,summary:c}=a;if(!b||!c)return{mostActivePlatform:{name:"",shares:0},highestEarningPlatform:{name:"",points:0},mostEfficientPlatform:{platform:"",efficiency:0},totalEngagement:0,averagePointsPerShare:0};let d=Object.entries(b);if(0===d.length)return{mostActivePlatform:{name:"",shares:0},highestEarningPlatform:{name:"",points:0},mostEfficientPlatform:{platform:"",efficiency:0},totalEngagement:c.total_shares||0,averagePointsPerShare:c.average_points_per_share||0};let e=d.reduce((a,[c,d])=>d.shares>(b[a[0]]?.shares||0)?[c,d]:a,["",{shares:0,points:0,percentage:0}]),f=d.reduce((a,[c,d])=>d.points>(b[a[0]]?.points||0)?[c,d]:a,["",{shares:0,points:0,percentage:0}]),g=d.map(([a,b])=>({platform:a,efficiency:b.shares>0?b.points/b.shares:0})).sort((a,b)=>b.efficiency-a.efficiency);return{mostActivePlatform:{name:e[0],shares:e[1].shares},highestEarningPlatform:{name:f[0],points:f[1].points},mostEfficientPlatform:g[0]||{platform:"",efficiency:0},totalEngagement:c.total_shares||0,averagePointsPerShare:c.average_points_per_share||0}}constructor(){this.MOCK_SHARE_HISTORY=[{share_id:1,platform:"linkedin",points_earned:5,timestamp:"2024-01-15T10:30:00Z"},{share_id:2,platform:"facebook",points_earned:3,timestamp:"2024-01-14T15:45:00Z"},{share_id:3,platform:"twitter",points_earned:1,timestamp:"2024-01-13T09:20:00Z"},{share_id:4,platform:"instagram",points_earned:2,timestamp:"2024-01-12T14:15:00Z"},{share_id:5,platform:"linkedin",points_earned:0,timestamp:"2024-01-11T11:30:00Z"}],this.MOCK_ANALYTICS={platform_breakdown:{linkedin:{shares:2,points:5,percentage:45.5,first_share_date:"2024-01-11T11:30:00Z",last_share_date:"2024-01-15T10:30:00Z"},facebook:{shares:1,points:3,percentage:27.3,first_share_date:"2024-01-14T15:45:00Z",last_share_date:"2024-01-14T15:45:00Z"},twitter:{shares:1,points:1,percentage:9.1,first_share_date:"2024-01-13T09:20:00Z",last_share_date:"2024-01-13T09:20:00Z"},instagram:{shares:1,points:2,percentage:18.2,first_share_date:"2024-01-12T14:15:00Z",last_share_date:"2024-01-12T14:15:00Z"}},timeline:[{date:"2024-01-11",shares:1,points:0},{date:"2024-01-12",shares:1,points:2},{date:"2024-01-13",shares:1,points:1},{date:"2024-01-14",shares:1,points:3},{date:"2024-01-15",shares:1,points:5}],summary:{total_shares:5,total_points:11,active_platforms:4,average_points_per_share:2.2}}}}let u=new t;var v=c(28095);c(17021);let w=()=>{let a=(0,h.usePathname)(),[b,c]=(0,e.useState)(null),[f,g]=(0,e.useState)(!0),[i,j]=(0,e.useState)(null),k=a.includes("/admin");(0,e.useEffect)(()=>{l()},[]);let l=async()=>{try{let a;g(!0),j(null),a=k?await m.getShareAnalytics():await v.y.getEnhancedAnalytics(),c(a)}catch(a){console.error("Analytics loading error:",a),j(a instanceof Error?a.message:"Failed to load analytics")}finally{g(!1)}},p=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});if(f&&!b)return(0,d.jsx)("div",{className:"share-analytics-loading",children:(0,d.jsx)(n.A,{})});let q=(()=>{if(!b||!b.platform_breakdown||!b.summary)return null;try{return u.calculateEngagementMetrics(b)}catch(a){return console.error("Error calculating engagement metrics:",a),null}})();return(0,d.jsxs)("div",{className:"share-analytics-container",children:[(0,d.jsx)("div",{className:"share-analytics-header",children:(0,d.jsx)("div",{className:"share-analytics-header-content",children:(0,d.jsx)("h3",{className:"share-analytics-title",children:"Share Analytics Overview"})})}),(0,d.jsxs)("div",{className:"share-analytics-content",children:[i&&(0,d.jsx)(o.A,{message:i}),b&&b.summary&&(0,d.jsxs)("div",{className:"overview-section",children:[(0,d.jsxs)("div",{className:"summary-cards",children:[(0,d.jsxs)("div",{className:"summary-card blue",children:[(0,d.jsx)("h4",{className:"summary-card-title",children:"Total Shares"}),(0,d.jsx)("p",{className:"summary-card-value",children:b.summary.total_shares||0})]}),(0,d.jsxs)("div",{className:"summary-card green",children:[(0,d.jsx)("h4",{className:"summary-card-title",children:"Total Points"}),(0,d.jsx)("p",{className:"summary-card-value",children:b.summary.total_points||0})]}),(0,d.jsxs)("div",{className:"summary-card purple",children:[(0,d.jsx)("h4",{className:"summary-card-title",children:"Active Platforms"}),(0,d.jsx)("p",{className:"summary-card-value",children:b.summary.active_platforms||0})]}),(0,d.jsxs)("div",{className:"summary-card orange",children:[(0,d.jsx)("h4",{className:"summary-card-title",children:"Avg Points/Share"}),(0,d.jsx)("p",{className:"summary-card-value",children:(b.summary.average_points_per_share||0).toFixed(1)})]})]}),q&&(0,d.jsxs)("div",{className:"engagement-insights",children:[(0,d.jsx)("h4",{className:"engagement-insights-title",children:"Engagement Insights"}),(0,d.jsxs)("div",{className:"engagement-insights-grid",children:[(0,d.jsxs)("div",{className:"engagement-insight-item",children:[(0,d.jsx)("span",{className:"engagement-insight-label",children:"Most Active Platform:"}),(0,d.jsxs)("p",{className:"engagement-insight-value",children:[u.formatPlatformName(q.mostActivePlatform.name),"(",q.mostActivePlatform.shares," shares)"]})]}),(0,d.jsxs)("div",{className:"engagement-insight-item",children:[(0,d.jsx)("span",{className:"engagement-insight-label",children:"Highest Earning:"}),(0,d.jsxs)("p",{className:"engagement-insight-value",children:[u.formatPlatformName(q.highestEarningPlatform.name),"(",q.highestEarningPlatform.points," points)"]})]}),(0,d.jsxs)("div",{className:"engagement-insight-item",children:[(0,d.jsx)("span",{className:"engagement-insight-label",children:"Most Efficient:"}),(0,d.jsxs)("p",{className:"engagement-insight-value",children:[u.formatPlatformName(q.mostEfficientPlatform.platform),"(",q.mostEfficientPlatform.efficiency.toFixed(1)," pts/share)"]})]})]})]}),b.platform_breakdown&&(0,d.jsxs)("div",{className:"platform-breakdown-section",children:[(0,d.jsx)("h4",{className:"platform-breakdown-title",children:"Platform Breakdown"}),(0,d.jsx)("div",{className:"platform-breakdown-grid",children:Object.entries(b.platform_breakdown).map(([a,b])=>(0,d.jsxs)("div",{className:"platform-breakdown-item",children:[(0,d.jsxs)("div",{className:"platform-breakdown-header",children:[(0,d.jsxs)("div",{className:"platform-breakdown-name-section",children:[(0,d.jsx)("span",{className:"platform-breakdown-icon",children:u.getPlatformIcon(a)}),(0,d.jsx)("h5",{className:"platform-breakdown-name",children:u.formatPlatformName(a)})]}),(0,d.jsxs)("span",{className:"platform-breakdown-percentage",children:[b.percentage.toFixed(1),"%"]})]}),(0,d.jsxs)("div",{className:"platform-breakdown-stats",children:[(0,d.jsxs)("div",{className:"platform-breakdown-stat",children:[(0,d.jsx)("span",{className:"platform-breakdown-stat-label",children:"Shares:"}),(0,d.jsx)("p",{className:"platform-breakdown-stat-value",children:b.shares})]}),(0,d.jsxs)("div",{className:"platform-breakdown-stat",children:[(0,d.jsx)("span",{className:"platform-breakdown-stat-label",children:"Points:"}),(0,d.jsx)("p",{className:"platform-breakdown-stat-value",children:b.points})]}),(0,d.jsxs)("div",{className:"platform-breakdown-stat",children:[(0,d.jsx)("span",{className:"platform-breakdown-stat-label",children:"First Share:"}),(0,d.jsx)("p",{className:"platform-breakdown-stat-value",children:b.first_share_date?p(b.first_share_date):"N/A"})]}),(0,d.jsxs)("div",{className:"platform-breakdown-stat",children:[(0,d.jsx)("span",{className:"platform-breakdown-stat-label",children:"Last Share:"}),(0,d.jsx)("p",{className:"platform-breakdown-stat-value",children:b.last_share_date?p(b.last_share_date):"N/A"})]})]}),(0,d.jsx)("div",{className:"platform-breakdown-progress",children:(0,d.jsx)("div",{className:"platform-breakdown-progress-bar",children:(0,d.jsx)("div",{className:"platform-breakdown-progress-fill",style:{width:`${b.percentage}%`,backgroundColor:u.getPlatformColor(a)}})})})]},a))})]}),b.timeline.length>0&&(0,d.jsxs)("div",{className:"timeline-section",children:[(0,d.jsx)("h4",{className:"timeline-title",children:"Share Timeline"}),(0,d.jsx)("div",{className:"timeline-chart",children:(0,d.jsx)("div",{className:"timeline-grid",children:(b.timeline||[]).slice(-7).map((a,b)=>(0,d.jsxs)("div",{className:"timeline-day",children:[(0,d.jsx)("div",{className:"timeline-day-label",children:new Date(a.date).toLocaleDateString("en-US",{weekday:"short"})}),(0,d.jsxs)("div",{className:"timeline-day-data",children:[(0,d.jsx)("div",{className:"timeline-day-shares",children:a.shares}),(0,d.jsxs)("div",{className:"timeline-day-points",children:[a.points," pts"]})]})]},b))})})]})]})]})]})};c(81070);let x=()=>{let[a,b]=(0,e.useState)({subject:"",body:""}),[c,f]=(0,e.useState)({minPoints:0,status:"all",registrationDateRange:{start:"",end:""},includeAdmins:!1}),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(null),[p,q]=(0,e.useState)(!1),[r,s]=(0,e.useState)(null),[t,u]=(0,e.useState)(""),v={welcome:{subject:"Welcome to LawVriksh!",body:"Dear {name},\n\nWelcome to LawVriksh! We're excited to have you on board.\n\nBest regards,\nThe LawVriksh Team"},update:{subject:"Important Update from LawVriksh",body:"Dear {name},\n\nWe have an important update to share with you.\n\n[Your update content here]\n\nBest regards,\nThe LawVriksh Team"},promotion:{subject:"Special Promotion for LawVriksh Members",body:"Dear {name},\n\nWe have a special promotion just for you!\n\n[Promotion details here]\n\nBest regards,\nThe LawVriksh Team"}};(0,e.useEffect)(()=>{w()},[c]);let w=async()=>{try{let a=100;"active"===c.status&&(a=Math.floor(.8*a)),"inactive"===c.status&&(a=Math.floor(.2*a)),c.minPoints>0&&(a=Math.floor(.6*a)),c.includeAdmins||(a=Math.floor(.95*a)),s(a)}catch(a){console.error("Failed to estimate recipients:",a)}},x=async()=>{if(!a.subject||!a.body)return void j("Please fill in both subject and body");try{h(!0),j(null),l(null);let d={subject:a.subject,body:a.body,min_points:c.minPoints},e=await m.sendBulkEmail(d);e&&(l(`Email sent successfully to ${e.recipients} recipients!`),b({subject:"",body:""}),u(""))}catch(a){j(a instanceof Error?a.message:"Failed to send bulk email")}finally{h(!1)}};return(0,d.jsxs)("div",{className:"bulk-email-container",children:[(0,d.jsxs)("div",{className:"bulk-email-header",children:[(0,d.jsx)("h3",{className:"bulk-email-title",children:"Enhanced Bulk Email Campaign"}),(0,d.jsx)("p",{className:"bulk-email-subtitle",children:"Send targeted emails to users based on various criteria"})]}),(0,d.jsxs)("div",{className:"bulk-email-content",children:[i&&(0,d.jsx)(o.A,{message:i}),k&&(0,d.jsx)("div",{className:"bulk-email-success",children:(0,d.jsxs)("div",{className:"bulk-email-success-content",children:[(0,d.jsx)("div",{className:"bulk-email-success-icon",children:(0,d.jsx)("svg",{className:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,d.jsx)("div",{className:"bulk-email-success-text",children:(0,d.jsx)("p",{className:"bulk-email-success-message",children:k})})]})}),(0,d.jsxs)("div",{className:"bulk-email-templates",children:[(0,d.jsx)("label",{className:"bulk-email-label",children:"Email Templates (Optional)"}),(0,d.jsxs)("select",{value:t,onChange:a=>(a=>{if(a&&v[a]){let c=v[a];b({subject:c.subject,body:c.body}),u(a)}})(a.target.value),className:"bulk-email-select",children:[(0,d.jsx)("option",{value:"",children:"Select a template..."}),(0,d.jsx)("option",{value:"welcome",children:"Welcome Email"}),(0,d.jsx)("option",{value:"update",children:"Important Update"}),(0,d.jsx)("option",{value:"promotion",children:"Special Promotion"})]})]}),(0,d.jsxs)("div",{className:"bulk-email-grid",children:[(0,d.jsxs)("div",{className:"bulk-email-form-section",children:[(0,d.jsxs)("div",{className:"bulk-email-form-group",children:[(0,d.jsx)("label",{className:"bulk-email-label",children:"Subject Line"}),(0,d.jsx)("input",{type:"text",value:a.subject,onChange:a=>b(b=>({...b,subject:a.target.value})),placeholder:"Enter email subject",className:"bulk-email-input",disabled:g})]}),(0,d.jsxs)("div",{className:"bulk-email-form-group",children:[(0,d.jsx)("label",{className:"bulk-email-label",children:"Email Body"}),(0,d.jsx)("textarea",{value:a.body,onChange:a=>b(b=>({...b,body:a.target.value})),placeholder:"Enter email content. Use {name}, {email}, {points} as placeholders.",rows:8,className:"bulk-email-textarea",disabled:g}),(0,d.jsxs)("p",{className:"bulk-email-placeholder-hint",children:["Available placeholders: ","{name}",", ","{email}",", ","{points}"]})]})]}),(0,d.jsxs)("div",{className:"bulk-email-filters",children:[(0,d.jsx)("h4",{className:"bulk-email-filters-title",children:"Recipient Filters"}),(0,d.jsxs)("div",{className:"bulk-email-form-group",children:[(0,d.jsx)("label",{className:"bulk-email-label",children:"Minimum Points"}),(0,d.jsx)("input",{type:"number",value:c.minPoints,onChange:a=>f(b=>({...b,minPoints:parseInt(a.target.value)||0})),min:"0",className:"bulk-email-input"})]}),(0,d.jsxs)("div",{className:"bulk-email-form-group",children:[(0,d.jsx)("label",{className:"bulk-email-label",children:"User Status"}),(0,d.jsxs)("select",{value:c.status,onChange:a=>f(b=>({...b,status:a.target.value})),className:"bulk-email-select",children:[(0,d.jsx)("option",{value:"all",children:"All Users"}),(0,d.jsx)("option",{value:"active",children:"Active Users Only"}),(0,d.jsx)("option",{value:"inactive",children:"Inactive Users Only"})]})]}),(0,d.jsxs)("div",{className:"bulk-email-form-group",children:[(0,d.jsx)("label",{className:"bulk-email-label",children:"Registration Date Range"}),(0,d.jsxs)("div",{className:"bulk-email-date-grid",children:[(0,d.jsx)("input",{type:"date",value:c.registrationDateRange.start,onChange:a=>f(b=>({...b,registrationDateRange:{...b.registrationDateRange,start:a.target.value}})),className:"bulk-email-input"}),(0,d.jsx)("input",{type:"date",value:c.registrationDateRange.end,onChange:a=>f(b=>({...b,registrationDateRange:{...b.registrationDateRange,end:a.target.value}})),className:"bulk-email-input"})]})]}),(0,d.jsxs)("div",{className:"bulk-email-checkbox-group",children:[(0,d.jsx)("input",{type:"checkbox",id:"includeAdmins",checked:c.includeAdmins,onChange:a=>f(b=>({...b,includeAdmins:a.target.checked})),className:"bulk-email-checkbox"}),(0,d.jsx)("label",{htmlFor:"includeAdmins",className:"bulk-email-checkbox-label",children:"Include admin users"})]}),null!==r&&(0,d.jsx)("div",{className:"bulk-email-recipients-info",children:(0,d.jsxs)("p",{className:"bulk-email-recipients-text",children:[(0,d.jsx)("span",{className:"bulk-email-recipients-count",children:"Estimated Recipients:"})," ",r," users"]})})]})]}),(0,d.jsxs)("div",{className:"bulk-email-actions",children:[(0,d.jsx)("button",{onClick:()=>{q(!0)},disabled:!a.subject||!a.body,className:"bulk-email-button preview",children:"Preview Email"}),(0,d.jsx)("button",{onClick:x,disabled:g||!a.subject||!a.body,className:"bulk-email-button send",children:g?(0,d.jsxs)("div",{className:"bulk-email-button-content",children:[(0,d.jsx)(n.A,{size:"small"}),(0,d.jsx)("span",{className:"bulk-email-button-text",children:"Sending..."})]}):"Send Bulk Email"})]}),p&&(0,d.jsx)("div",{className:"bulk-email-modal-overlay",children:(0,d.jsx)("div",{className:"bulk-email-modal-container",children:(0,d.jsxs)("div",{className:"bulk-email-modal-content",children:[(0,d.jsx)("h3",{className:"bulk-email-modal-title",children:"Email Preview"}),(0,d.jsxs)("div",{className:"bulk-email-preview-container",children:[(0,d.jsxs)("div",{className:"bulk-email-preview-subject",children:[(0,d.jsx)("strong",{className:"bulk-email-preview-subject-label",children:"Subject:"}),(0,d.jsx)("p",{className:"bulk-email-preview-subject-text",children:a.subject})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{className:"bulk-email-preview-body-label",children:"Body:"}),(0,d.jsx)("div",{className:"bulk-email-preview-body",children:a.body.replace(/{name}/g,"John Doe").replace(/{email}/g,"john.doe@example.com").replace(/{points}/g,"25")})]})]}),(0,d.jsxs)("div",{className:"bulk-email-modal-actions",children:[(0,d.jsx)("button",{onClick:()=>q(!1),className:"bulk-email-modal-button cancel",children:"Close Preview"}),(0,d.jsx)("button",{onClick:()=>{q(!1),x()},disabled:g,className:"bulk-email-modal-button send",children:"Send Email"})]})]})})})]})]})};var y=c(14417);c(5009);let z=({onClose:a,onSuccess:b})=>{let[c,g]=(0,e.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[h,i]=(0,e.useState)(!1),[j,k]=(0,e.useState)(null),[l,m]=(0,e.useState)(!1),[p,q]=(0,e.useState)(!1),[r,s]=(0,e.useState)(null);f().useEffect(()=>{c.newPassword?s(y.y.checkPasswordStrength(c.newPassword)):s(null)},[c.newPassword]);let t=async a=>{if(a.preventDefault(),!c.currentPassword)return void k("Please enter your current password");if(!c.newPassword)return void k("Please enter a new password");if(c.newPassword!==c.confirmPassword)return void k("New passwords do not match");if(r&&!r.isValid)return void k("Please choose a stronger password");try{i(!0),k(null);let a=await y.y.changePassword(c.currentPassword,c.newPassword);a.success?(m(!0),g({currentPassword:"",newPassword:"",confirmPassword:""}),b&&setTimeout(()=>{b()},2e3)):k(a.message||"Failed to change password")}catch(a){k(a instanceof Error?a.message:"Failed to change password")}finally{i(!1)}},u=(a,b)=>{g(c=>({...c,[a]:b})),k(null)};return l?(0,d.jsx)("div",{className:"change-password-success",children:(0,d.jsxs)("div",{className:"change-password-success-content",children:[(0,d.jsx)("div",{className:"change-password-success-icon",children:(0,d.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,d.jsx)("h3",{className:"change-password-success-title",children:"Password Changed Successfully"}),(0,d.jsx)("p",{className:"change-password-success-text",children:"Your password has been updated successfully."}),a&&(0,d.jsx)("button",{onClick:a,className:"change-password-success-button",children:"Close"})]})}):(0,d.jsxs)("div",{className:"change-password-container",children:[(0,d.jsx)("div",{className:"change-password-header",children:(0,d.jsxs)("div",{className:"change-password-header-content",children:[(0,d.jsx)("h3",{className:"change-password-title",children:"Change Password"}),a&&(0,d.jsx)("button",{onClick:a,className:"change-password-close",children:(0,d.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,d.jsxs)("form",{onSubmit:t,className:"change-password-form",children:[j&&(0,d.jsx)(o.A,{message:j}),(0,d.jsxs)("div",{className:"change-password-form-group",children:[(0,d.jsx)("label",{htmlFor:"currentPassword",className:"change-password-label",children:"Current Password"}),(0,d.jsx)("div",{className:"change-password-input-wrapper",children:(0,d.jsx)("input",{id:"currentPassword",type:p?"text":"password",value:c.currentPassword,onChange:a=>u("currentPassword",a.target.value),className:"change-password-input",placeholder:"Enter your current password",disabled:h,required:!0})})]}),(0,d.jsxs)("div",{className:"change-password-form-group",children:[(0,d.jsx)("label",{htmlFor:"newPassword",className:"change-password-label",children:"New Password"}),(0,d.jsx)("div",{className:"change-password-input-wrapper",children:(0,d.jsx)("input",{id:"newPassword",type:p?"text":"password",value:c.newPassword,onChange:a=>u("newPassword",a.target.value),className:"change-password-input",placeholder:"Enter your new password",disabled:h,required:!0})}),r&&(0,d.jsxs)("div",{className:"change-password-strength",children:[(0,d.jsxs)("div",{className:"change-password-strength-bar-container",children:[(0,d.jsx)("div",{className:"change-password-strength-bar",children:(0,d.jsx)("div",{className:`change-password-strength-fill ${r.score<=1?"weak":r.score<=2?"fair":r.score<=3?"good":"strong"}`,style:{width:`${r.score/5*100}%`}})}),(0,d.jsx)("span",{className:`change-password-strength-text ${r.score<=1?"weak":r.score<=2?"fair":r.score<=3?"good":"strong"}`,children:r.feedback[0]||"Password strength"})]}),r.feedback.length>1&&(0,d.jsx)("div",{className:"change-password-feedback",children:r.feedback.slice(1).map((a,b)=>(0,d.jsx)("p",{className:"change-password-feedback-item",children:a},b))})]})]}),(0,d.jsxs)("div",{className:"change-password-form-group",children:[(0,d.jsx)("label",{htmlFor:"confirmPassword",className:"change-password-label",children:"Confirm New Password"}),(0,d.jsx)("div",{className:"change-password-input-wrapper",children:(0,d.jsx)("input",{id:"confirmPassword",type:p?"text":"password",value:c.confirmPassword,onChange:a=>u("confirmPassword",a.target.value),className:"change-password-input",placeholder:"Confirm your new password",disabled:h,required:!0})}),c.confirmPassword&&c.newPassword!==c.confirmPassword&&(0,d.jsx)("p",{className:"change-password-mismatch",children:"Passwords do not match"})]}),(0,d.jsxs)("div",{className:"change-password-checkbox-group",children:[(0,d.jsx)("input",{type:"checkbox",id:"showPasswords",checked:p,onChange:a=>q(a.target.checked),className:"change-password-checkbox"}),(0,d.jsx)("label",{htmlFor:"showPasswords",className:"change-password-checkbox-label",children:"Show passwords"})]}),(0,d.jsxs)("div",{className:"change-password-actions",children:[a&&(0,d.jsx)("button",{type:"button",onClick:a,className:"change-password-button cancel",disabled:h,children:"Cancel"}),(0,d.jsx)("button",{type:"submit",disabled:h||!c.currentPassword||!c.newPassword||!c.confirmPassword||c.newPassword!==c.confirmPassword||r&&!r.isValid,className:"change-password-button submit",children:h?(0,d.jsxs)("div",{className:"change-password-button-content",children:[(0,d.jsx)(n.A,{size:"small"}),(0,d.jsx)("span",{className:"change-password-button-text",children:"Changing..."})]}):"Change Password"})]})]})]})};var A=c(36146);c(30014);let B=()=>{let[a,b]=(0,e.useState)([]),[c,f]=(0,e.useState)(null),[g,h]=(0,e.useState)(!0),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(!1),[m,p]=(0,e.useState)(1),[q,r]=(0,e.useState)(1),[s,t]=(0,e.useState)({search:"",biggestHurdle:"",primaryMotivation:"",dateRange:null});(0,e.useEffect)(()=>{u(),v()},[m,s]);let u=async()=>{try{h(!0),j(null);let a={search:s.search||void 0,biggest_hurdle:s.biggestHurdle||void 0,primary_motivation:s.primaryMotivation||void 0,dateRange:s.dateRange||void 0},c=await A.D.getFeedbackList(m,20,a);b(c.feedback),r(c.pagination.totalPages)}catch(a){j(a.message||"Failed to load feedback data")}finally{h(!1)}},v=async()=>{try{let a=await A.D.getFeedbackStats();f(a)}catch(a){console.error("Failed to load feedback stats:",a)}},w=async()=>{try{l(!0);let a={search:s.search||void 0,biggest_hurdle:s.biggestHurdle||void 0,primary_motivation:s.primaryMotivation||void 0,dateRange:s.dateRange||void 0};await A.D.downloadFeedbackExport("json",a)}catch(a){j(a.message||"Failed to export feedback data")}finally{l(!1)}},x=(a,b)=>{t(c=>({...c,[a]:b})),p(1)},y=a=>({A:"Time commitment",B:"Simplifying topics",C:"Audience reach",D:"Ethics/compliance",E:"Other"})[a]||a,z=a=>({A:"Brand building",B:"Client attraction",C:"Revenue stream",D:"Education/contribution"})[a]||a;return g&&!a.length?(0,d.jsx)(n.A,{size:"large",message:"Loading feedback data..."}):(0,d.jsxs)("div",{className:"feedback-management",children:[(0,d.jsxs)("div",{className:"feedback-header",children:[(0,d.jsx)("h2",{children:"Feedback Management"}),(0,d.jsx)("div",{className:"feedback-actions",children:(0,d.jsx)("button",{onClick:w,disabled:k,className:"export-btn json-btn",children:k?"Exporting...":"Export JSON"})})]}),i&&(0,d.jsx)(o.A,{message:i,title:"Error",onRetry:u}),c&&(0,d.jsxs)("div",{className:"feedback-stats",children:[(0,d.jsx)("h3",{children:"Feedback Statistics"}),(0,d.jsxs)("div",{className:"stats-grid",children:[(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("h4",{children:"Total Responses"}),(0,d.jsx)("p",{className:"stat-number",children:c?.total_responses||0})]}),(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("h4",{children:"Last 7 Days"}),(0,d.jsx)("p",{className:"stat-number",children:c?.responses_last_7_days||0})]}),(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("h4",{children:"Last 30 Days"}),(0,d.jsx)("p",{className:"stat-number",children:c?.responses_last_30_days||0})]})]}),(0,d.jsxs)("div",{className:"breakdown-section",children:[(0,d.jsxs)("div",{className:"breakdown-item",children:[(0,d.jsx)("h4",{children:"Biggest Hurdles"}),(0,d.jsx)("div",{className:"breakdown-list",children:c?.responses_by_hurdle?Object.entries(c.responses_by_hurdle).map(([a,b])=>(0,d.jsxs)("div",{className:"breakdown-row",children:[(0,d.jsx)("span",{children:y(a)}),(0,d.jsx)("span",{children:b})]},a)):(0,d.jsx)("div",{children:"No data available"})})]}),(0,d.jsxs)("div",{className:"breakdown-item",children:[(0,d.jsx)("h4",{children:"Primary Motivations"}),(0,d.jsx)("div",{className:"breakdown-list",children:c?.responses_by_motivation?Object.entries(c.responses_by_motivation).map(([a,b])=>(0,d.jsxs)("div",{className:"breakdown-row",children:[(0,d.jsx)("span",{children:z(a)}),(0,d.jsx)("span",{children:b})]},a)):(0,d.jsx)("div",{children:"No data available"})})]})]})]}),(0,d.jsxs)("div",{className:"feedback-filters",children:[(0,d.jsx)("h3",{children:"Filters"}),(0,d.jsxs)("div",{className:"filters-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsx)("label",{children:"Search"}),(0,d.jsx)("input",{type:"text",value:s.search,onChange:a=>x("search",a.target.value),placeholder:"Search in responses...",className:"filter-input"})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsx)("label",{children:"Biggest Hurdle"}),(0,d.jsxs)("select",{value:s.biggestHurdle,onChange:a=>x("biggestHurdle",a.target.value),className:"filter-select",children:[(0,d.jsx)("option",{value:"",children:"All"}),(0,d.jsx)("option",{value:"A",children:"Time commitment"}),(0,d.jsx)("option",{value:"B",children:"Simplifying topics"}),(0,d.jsx)("option",{value:"C",children:"Audience reach"}),(0,d.jsx)("option",{value:"D",children:"Ethics/compliance"}),(0,d.jsx)("option",{value:"E",children:"Other"})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsx)("label",{children:"Primary Motivation"}),(0,d.jsxs)("select",{value:s.primaryMotivation,onChange:a=>x("primaryMotivation",a.target.value),className:"filter-select",children:[(0,d.jsx)("option",{value:"",children:"All"}),(0,d.jsx)("option",{value:"A",children:"Brand building"}),(0,d.jsx)("option",{value:"B",children:"Client attraction"}),(0,d.jsx)("option",{value:"C",children:"Revenue stream"}),(0,d.jsx)("option",{value:"D",children:"Education/contribution"})]})]}),(0,d.jsx)("div",{className:"filter-group",children:(0,d.jsx)("button",{onClick:()=>{t({search:"",biggestHurdle:"",primaryMotivation:"",dateRange:null}),p(1)},className:"clear-filters-btn",children:"Clear Filters"})})]})]}),(0,d.jsxs)("div",{className:"feedback-list",children:[(0,d.jsxs)("h3",{children:["Feedback Responses (",a.length," of ",c?.total_responses||0,")"]}),g?(0,d.jsx)(n.A,{message:"Loading feedback..."}):0===a.length?(0,d.jsx)("div",{className:"no-feedback",children:(0,d.jsx)("p",{children:"No feedback responses found."})}):(0,d.jsx)("div",{className:"feedback-table",children:a.map(a=>(0,d.jsxs)("div",{className:"feedback-item",children:[(0,d.jsx)("div",{className:"feedback-item-header",children:(0,d.jsxs)("div",{className:"feedback-meta",children:[(0,d.jsxs)("span",{className:"feedback-id",children:["#",a.id]}),(0,d.jsx)("span",{className:"feedback-date",children:new Date(a.submitted_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),a.user_name&&(0,d.jsx)("span",{className:"feedback-user",children:a.user_name})]})}),(0,d.jsxs)("div",{className:"feedback-content",children:[(0,d.jsxs)("div",{className:"feedback-choices",children:[(0,d.jsxs)("div",{className:"choice-item",children:[(0,d.jsx)("strong",{children:"Biggest Hurdle:"})," ",y(a.biggest_hurdle),a.biggest_hurdle_other&&` (${a.biggest_hurdle_other})`]}),(0,d.jsxs)("div",{className:"choice-item",children:[(0,d.jsx)("strong",{children:"Primary Motivation:"})," ",z(a.primary_motivation||"")]})]}),(0,d.jsxs)("div",{className:"feedback-answers",children:[(0,d.jsxs)("div",{className:"answer-item",children:[(0,d.jsx)("strong",{children:"Monetization Considerations:"}),(0,d.jsx)("p",{children:a.monetization_considerations})]}),(0,d.jsxs)("div",{className:"answer-item",children:[(0,d.jsx)("strong",{children:"Professional Legacy:"}),(0,d.jsx)("p",{children:a.professional_legacy})]}),(0,d.jsxs)("div",{className:"answer-item",children:[(0,d.jsx)("strong",{children:"Platform Impact:"}),(0,d.jsx)("p",{children:a.platform_impact})]})]})]})]},a.id))}),q>1&&(0,d.jsxs)("div",{className:"pagination",children:[(0,d.jsx)("button",{onClick:()=>p(a=>Math.max(1,a-1)),disabled:1===m,className:"pagination-btn",children:"Previous"}),(0,d.jsxs)("span",{className:"pagination-info",children:["Page ",m," of ",q]}),(0,d.jsx)("button",{onClick:()=>p(a=>Math.min(q,a+1)),disabled:m===q,className:"pagination-btn",children:"Next"})]})]})]})};c(16333);let C=()=>{let{user:a,logout:b}=(0,g.A)(),c=(0,h.useRouter)(),f=function(){let[a,b]=(0,e.useState)("overview"),c=function(){let{data:a,loading:b,error:c,execute:d,reset:f}=(0,i.n5)(null),g=(0,e.useCallback)(async()=>await m.getDashboard(),[]),h=(0,e.useCallback)(()=>d(g),[d,g]);return{dashboard:a,overview:a?.overview||null,platformBreakdown:a?.platform_breakdown||{},growthMetrics:a?.growth_metrics||null,loading:b,error:c,refresh:h,reset:f}}(),d=function(a={page:1,limit:50,search:"",sort:"points"}){let[b,c]=(0,e.useState)(a),{data:d,pagination:f,loading:g,error:h,execute:j,reset:k}=(0,i.fj)([],null),l=(0,e.useCallback)(async a=>{let d={...b,...a};c(d);let e=await m.getUsers(d);return{data:e.users,pagination:e.pagination}},[b]),n=(0,e.useCallback)(()=>j(()=>l()),[j,l]),o=(0,e.useCallback)(a=>j(()=>l({page:a})),[j,l]),p=(0,e.useCallback)(a=>j(()=>l({page:1,search:a})),[j,l]);return{users:d,pagination:f,loading:g,error:h,refresh:n,loadPage:o,search:p,sort:(0,e.useCallback)(a=>j(()=>l({page:1,sort:a})),[j,l]),changePageSize:(0,e.useCallback)(a=>j(()=>l({page:1,limit:a})),[j,l]),reset:k,currentParams:b}}(),f=function(){let{loading:a,error:b,execute:c,reset:d}=(0,i.FE)(),[f,g]=(0,e.useState)(null);return{sendBulkEmail:(0,e.useCallback)(async a=>{let b=await c(()=>m.sendBulkEmail(a));return b&&g(b),b},[c]),lastResult:f,loading:a,error:b,reset:d}}(),g=function(){let{loading:a,error:b,execute:c,reset:d}=(0,i.FE)(),[f,g]=(0,e.useState)(null);return{promoteUser:(0,e.useCallback)(async a=>{let b=await c(()=>m.promoteUser(a));return b&&g(b),b},[c]),lastPromoted:f,loading:a,error:b,reset:d}}(),h=function(){let{loading:a,error:b,execute:c,reset:d}=(0,i.FE)();return{exportUsers:(0,e.useCallback)(async(a,b)=>{let d=await c(()=>m.exportUsers(a,b));if(d){let b=URL.createObjectURL(d),c=document.createElement("a");c.href=b,c.download=`users.${a}`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(b)}return d},[c]),loading:a,error:b,reset:d}}(),j=function(){let{data:a,loading:b,error:c,execute:d,reset:f}=(0,i.n5)(null),g=(0,e.useCallback)(async()=>await m.getAdminStats(),[]),h=(0,e.useCallback)(()=>d(g),[d,g]);return{stats:a,totalUsers:a?.totalUsers||0,activeUsers:a?.activeUsers||0,totalShares:a?.totalShares||0,totalPoints:a?.totalPoints||0,topPlatform:a?.topPlatform||"",loading:b,error:c,refresh:h,reset:f}}(),k=(0,e.useCallback)(()=>Promise.all([c.refresh(),d.refresh(),j.refresh()]),[c.refresh,d.refresh,j.refresh]);return{activeTab:a,setActiveTab:(0,e.useCallback)(a=>{switch(b(a),a){case"users":d.users.length||d.refresh();break;case"analytics":j.stats||j.refresh()}},[d,j]),dashboard:c,users:d,bulkEmail:f,userPromotion:g,userExport:h,stats:j,refreshAll:k,loading:c.loading||d.loading||j.loading,error:c.error||d.error||j.error}}();return(0,d.jsxs)("div",{className:"admin-dashboard",children:[(0,d.jsx)("header",{className:"admin-header",children:(0,d.jsxs)("div",{className:"admin-header-content",children:[(0,d.jsx)("h1",{children:"LawVriksh Admin Panel"}),(0,d.jsxs)("div",{className:"admin-user-info",children:[(0,d.jsxs)("span",{children:["Welcome, ",a?.name]}),(0,d.jsx)("button",{onClick:()=>{b(),c.push("/admin/login")},className:"logout-btn",children:"Logout"})]})]})}),(0,d.jsxs)("nav",{className:"admin-nav",children:[(0,d.jsx)("button",{className:"overview"===f.activeTab?"active":"",onClick:()=>f.setActiveTab("overview"),children:"Overview"}),(0,d.jsx)("button",{className:"users"===f.activeTab?"active":"",onClick:()=>f.setActiveTab("users"),children:"Enhanced Users"}),(0,d.jsx)("button",{className:"email"===f.activeTab?"active":"",onClick:()=>f.setActiveTab("email"),children:"Enhanced Email"}),(0,d.jsx)("button",{className:"analytics"===f.activeTab?"active":"",onClick:()=>f.setActiveTab("analytics"),children:"Share Analytics"}),(0,d.jsx)("button",{className:"campaigns"===f.activeTab?"active":"",onClick:()=>f.setActiveTab("campaigns"),children:"Campaigns"}),(0,d.jsx)("button",{className:"shares"===f.activeTab?"active":"",onClick:()=>f.setActiveTab("shares"),children:"Share Analytics"}),(0,d.jsx)("button",{className:"feedback"===f.activeTab?"active":"",onClick:()=>f.setActiveTab("feedback"),children:"Feedback"}),(0,d.jsx)("button",{className:"settings"===f.activeTab?"active":"",onClick:()=>f.setActiveTab("settings"),children:"Settings"})]}),(0,d.jsxs)("main",{className:"admin-main",children:["overview"===f.activeTab&&(0,d.jsxs)("div",{className:"overview-section",children:[(0,d.jsx)("h2",{children:"Dashboard Overview"}),f.dashboard.loading?(0,d.jsx)(n.A,{size:"large",message:"Loading dashboard data..."}):f.dashboard.error?(0,d.jsx)(o.A,{message:f.dashboard.error,title:"Dashboard Error",onRetry:f.dashboard.refresh}):f.dashboard.overview?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"stats-grid",children:[(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("h3",{children:"Total Users"}),(0,d.jsx)("p",{className:"stat-number",children:f.dashboard.overview.total_users})]}),(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("h3",{children:"Active Users (24h)"}),(0,d.jsx)("p",{className:"stat-number",children:f.dashboard.overview.active_users_24h})]}),(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("h3",{children:"Shares Today"}),(0,d.jsx)("p",{className:"stat-number",children:f.dashboard.overview.total_shares_today})]}),(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("h3",{children:"Points Distributed"}),(0,d.jsx)("p",{className:"stat-number",children:f.dashboard.overview.points_distributed_today})]})]}),(0,d.jsxs)("div",{className:"platform-breakdown",children:[(0,d.jsx)("h3",{children:"Platform Breakdown"}),(0,d.jsx)("div",{className:"platform-stats",children:Object.entries(f.dashboard.platformBreakdown).map(([a,b])=>(0,d.jsxs)("div",{className:"platform-item",children:[(0,d.jsx)("span",{className:"platform-name",children:a.charAt(0).toUpperCase()+a.slice(1)}),(0,d.jsxs)("span",{className:"platform-shares",children:[b.shares," shares"]}),(0,d.jsxs)("span",{className:"platform-percentage",children:[b.percentage,"%"]})]},a))})]})]}):(0,d.jsx)(o.A,{message:"No dashboard data available",title:"No Data",variant:"info",onRetry:f.dashboard.refresh})]}),"users"===f.activeTab&&(0,d.jsx)("div",{className:"users-section",children:(0,d.jsx)(s,{})}),"email"===f.activeTab&&(0,d.jsx)("div",{className:"email-section",children:(0,d.jsx)(x,{})}),"analytics"===f.activeTab&&(0,d.jsx)("div",{className:"analytics-section",children:(0,d.jsx)(w,{})}),"campaigns"===f.activeTab&&(0,d.jsxs)("div",{className:"campaigns-section",children:[(0,d.jsx)("h2",{children:"Campaign Management"}),(0,d.jsx)(r,{})]}),"shares"===f.activeTab&&(0,d.jsx)("div",{className:"shares-section",children:(0,d.jsx)(w,{})}),"feedback"===f.activeTab&&(0,d.jsx)("div",{className:"feedback-section",children:(0,d.jsx)(B,{})}),"settings"===f.activeTab&&(0,d.jsxs)("div",{className:"settings-section",children:[(0,d.jsx)("h2",{children:"Admin Settings"}),(0,d.jsx)("div",{className:"settings-grid",children:(0,d.jsxs)("div",{className:"settings-card",children:[(0,d.jsx)("h3",{children:"Account Security"}),(0,d.jsx)(z,{})]})})]})]})]})};function D(){return(0,d.jsx)(C,{})}},23637:(a,b,c)=>{"use strict";c.d(b,{A:()=>e});var d=c(60687);c(43210),c(95101);let e=({message:a,title:b="Error",onRetry:c,className:e="",variant:f="error"})=>(0,d.jsxs)("div",{className:`error-message ${f} ${e}`,children:[(0,d.jsxs)("div",{className:"error-content",children:[(0,d.jsx)("div",{className:"error-icon",children:(()=>{switch(f){case"warning":return"⚠️";case"info":return"ℹ️";default:return"❌"}})()}),(0,d.jsxs)("div",{className:"error-text",children:[(0,d.jsx)("h3",{className:"error-title",children:b}),(0,d.jsx)("p",{className:"error-description",children:a})]})]}),c&&(0,d.jsx)("button",{onClick:c,className:"error-retry-btn",children:"Try Again"})]})},26521:()=>{},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},28354:a=>{"use strict";a.exports=require("util")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30014:()=>{},33873:a=>{"use strict";a.exports=require("path")},36146:(a,b,c)=>{"use strict";c.d(b,{D:()=>f});var d=c(78036);class e{async submitFeedback(a){try{let b=await d.uE.post("/feedback/submit",a);if(200===b.status||201===b.status)return{success:!0,message:b.data?.message||"Feedback submitted successfully"};throw Error("Unexpected response status")}catch(a){if(console.error("Failed to submit feedback:",a),a.response?.status===400)throw Error(a.response.data?.detail||"Invalid feedback data");if(a.response?.status===429)throw Error("Too many submissions. Please try again later.");if(a.response?.status>=500)throw Error("Server error. Please try again later.");throw Error("Failed to submit feedback. Please check your connection and try again.")}}async getFeedbackList(a=1,b=50,c){try{let e=new URLSearchParams({page:a.toString(),page_size:b.toString()});return c?.search&&e.append("search",c.search),c?.biggestHurdle&&e.append("biggest_hurdle",c.biggestHurdle),c?.primaryMotivation&&e.append("primary_motivation",c.primaryMotivation),c?.dateRange&&(e.append("start_date",c.dateRange.start),e.append("end_date",c.dateRange.end)),(await d.uE.get(`/feedback?${e}`)).data}catch(a){if(console.error("Failed to fetch feedback list:",a),a.response?.status===403)throw Error("Admin access required");if(a.response?.status===401)throw Error("Authentication required");throw Error("Failed to fetch feedback data")}}async getFeedbackStats(){try{return(await d.uE.get("/feedback/stats")).data}catch(a){if(console.error("Failed to fetch feedback stats:",a),a.response?.status===403)throw Error("Admin access required");if(a.response?.status===401)throw Error("Authentication required");throw Error("Failed to fetch feedback statistics")}}async exportFeedback(a="json",b){try{let c=new URLSearchParams({format:a});b?.search&&c.append("search",b.search),b?.biggest_hurdle&&c.append("biggest_hurdle",b.biggest_hurdle),b?.primary_motivation&&c.append("primary_motivation",b.primary_motivation),b?.dateRange&&(c.append("start_date",b.dateRange.start),c.append("end_date",b.dateRange.end));let d=await fetch(`http://localhost:8000/feedback/export?${c}`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!d.ok){if(403===d.status)throw Error("Admin access required");if(401===d.status)throw Error("Authentication required");throw Error("Export failed")}return d.blob()}catch(a){throw console.error("Failed to export feedback:",a),a}}async downloadFeedbackExport(a="json",b){try{let c=await this.exportFeedback(a,b),d=URL.createObjectURL(c),e=document.createElement("a");e.href=d,e.download=`feedback_responses_${new Date().toISOString().split("T")[0]}.${a}`,document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(d)}catch(a){throw console.error("Failed to download feedback export:",a),a}}validateFeedbackData(a){let b={};a.biggest_hurdle||(b.biggestHurdle="Please select your biggest hurdle"),"E"!==a.biggest_hurdle||a.biggest_hurdle_other?.trim()||(b.biggestHurdleOther="Please specify your answer"),a.primary_motivation||(b.primaryMotivation="Please select your primary motivation"),a.time_consuming_part||(b.timeConsumingPart="Please select the most time-consuming part"),a.professional_fear||(b.professionalFear="Please select your biggest professional fear");let c=(a,c,d)=>{if(!a?.trim()){b[c]=`Please provide your answer for ${d}`;return}a.trim().length<10&&(b[c]=`Please provide a more detailed answer for ${d}`)};return a.monetization_considerations&&c(a.monetization_considerations,"monetizationConsiderations","monetization considerations"),a.professional_legacy&&c(a.professional_legacy,"professionalLegacy","professional legacy"),c(a.platform_impact,"platformImpact","platform impact"),{isValid:0===Object.keys(b).length,errors:b}}}let f=new e},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},61186:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g,metadata:()=>f});var d=c(37413),e=c(78204);let f={title:"Admin Dashboard",description:"Administration panel",robots:{index:!1,follow:!1}};function g(){return(0,d.jsx)(e.default,{})}},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63704:(a,b,c)=>{Promise.resolve().then(c.bind(c,78204))},64376:(a,b,c)=>{Promise.resolve().then(c.bind(c,22157))},71875:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>C.a,__next_app__:()=>I,handler:()=>K,pages:()=>H,routeModule:()=>J,tree:()=>G});var d=c(65239),e=c(48088),f=c(47220),g=c(81289),h=c(26191),i=c(14823),j=c(71998),k=c(92603),l=c(54649),m=c(32781),n=c(82602),o=c(61268),p=c(4853),q=c(261),r=c(5052),s=c(9977),t=c(26713),u=c(43365),v=c(71454),w=c(67778),x=c(46143),y=c(39105),z=c(38171),A=c(86439),B=c(16133),C=c.n(B),D=c(30893),E=c(52836),F={};for(let a in D)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(F[a]=()=>D[a]);c.d(b,F);let G={children:["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,61186)),"C:\\Users\\Asus\\Desktop\\BETA\\BETA-FRONTEND\\next\\app\\admin\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(c.bind(c,97786)),"C:\\Users\\Asus\\Desktop\\BETA\\BETA-FRONTEND\\next\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,58014)),"C:\\Users\\Asus\\Desktop\\BETA\\BETA-FRONTEND\\next\\app\\layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,16133,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,80849,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,29868,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,79615,23)),"next/dist/client/components/builtin/unauthorized.js"]}]}.children,H=["C:\\Users\\Asus\\Desktop\\BETA\\BETA-FRONTEND\\next\\app\\admin\\dashboard\\page.tsx"],I={require:c,loadChunk:()=>Promise.resolve()},J=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:G},distDir:".next",projectDir:""});async function K(a,b,c){var d;let B="/admin/dashboard/page";"/index"===B&&(B="/");let F="false",L=(0,h.getRequestMeta)(a,"postponed"),M=(0,h.getRequestMeta)(a,"minimalMode"),N=await J.prepare(a,b,{srcPage:B,multiZoneDraftMode:F});if(!N)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:O,query:P,params:Q,parsedUrl:R,pageIsDynamic:S,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,serverActionsManifest:W,clientReferenceManifest:X,subresourceIntegrityManifest:Y,prerenderManifest:Z,isDraftMode:$,resolvedPathname:_,revalidateOnlyGenerated:aa,routerServerContext:ab,nextConfig:ac}=N,ad=R.pathname||"/",ae=(0,q.normalizeAppPath)(B),{isOnDemandRevalidate:af}=N,ag=Z.dynamicRoutes[ae],ah=Z.routes[_],ai=!!(ag||ah||Z.routes[ae]),aj=a.headers["user-agent"]||"",ak=(0,t.getBotType)(aj),al=(0,o.isHtmlBotRequest)(a),am=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??!!a.headers[s.NEXT_ROUTER_PREFETCH_HEADER],an=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[s.RSC_HEADER],ao=(0,r.getIsPossibleServerAction)(a),ap=(0,l.checkIsAppPPREnabled)(ac.experimental.ppr)&&(null==(d=Z.routes[ae]??Z.dynamicRoutes[ae])?void 0:d.renderingMode)==="PARTIALLY_STATIC",aq=!1,ar=!1,as=ap?L:void 0,at=ap&&an&&!am,au=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),av=!aj||(0,o.shouldServeStreamingMetadata)(aj,ac.htmlLimitedBots);al&&ap&&(ai=!1,av=!1);let aw=!0===J.isDev||!ai||"string"==typeof L||at,ax=al&&ap,ay=null;$||!ai||aw||ao||as||at||(ay=_);let az=ay;!az&&J.isDev&&(az=_);let aA={...D,tree:G,pages:H,GlobalError:C(),handler:K,routeModule:J,__next_app__:I};W&&X&&(0,n.setReferenceManifestsSingleton)({page:B,clientReferenceManifest:X,serverActionsManifest:W,serverModuleMap:(0,p.createServerModuleMap)({serverActionsManifest:W})});let aB=a.method||"GET",aC=(0,g.getTracer)(),aD=aC.getActiveScopeSpan();try{let d=async(c,d)=>{let e=new k.NodeNextRequest(a),f=new k.NodeNextResponse(b);return J.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aC.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aB} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aB} ${a.url}`)})},f=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:P,params:Q,page:ae,sharedContext:{buildId:O},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aA,Component:(0,j.T)(aA),params:Q,routeModule:J,page:B,postponed:f,shouldWaitOnAllReady:ax,serveStreamingMetadata:av,supportsDynamicResponse:"string"==typeof f||aw,buildManifest:T,nextFontManifest:U,reactLoadableManifest:V,subresourceIntegrityManifest:Y,serverActionsManifest:W,clientReferenceManifest:X,setIsrStatus:null==ab?void 0:ab.setIsrStatus,dir:J.projectDir,isDraftMode:$,isRevalidate:ai&&!f&&!at,botType:ak,isOnDemandRevalidate:af,isPossibleServerAction:ao,assetPrefix:ac.assetPrefix,nextConfigOutput:ac.output,crossOrigin:ac.crossOrigin,trailingSlash:ac.trailingSlash,previewProps:Z.preview,deploymentId:ac.deploymentId,enableTainting:ac.experimental.taint,htmlLimitedBots:ac.htmlLimitedBots,devtoolSegmentExplorer:ac.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ac.reactMaxHeadersLength,multiZoneDraftMode:F,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ac.experimental.cacheLife,basePath:ac.basePath,serverActions:ac.experimental.serverActions,...aq?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:aq}:{},experimental:{isRoutePPREnabled:ap,expireTime:ac.expireTime,staleTimes:ac.experimental.staleTimes,dynamicIO:!!ac.experimental.dynamicIO,clientSegmentCache:!!ac.experimental.clientSegmentCache,dynamicOnHover:!!ac.experimental.dynamicOnHover,inlineCss:!!ac.experimental.inlineCss,authInterrupts:!!ac.experimental.authInterrupts,clientTraceMetadata:ac.experimental.clientTraceMetadata||[]},waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>J.onRequestError(a,b,d,ab),err:(0,h.getRequestMeta)(a,"invokeError"),dev:J.isDev}},k=await d(e,i),{metadata:l}=k,{cacheControl:m,headers:n={},fetchTags:o}=l;if(o&&(n[x.NEXT_CACHE_TAGS_HEADER]=o),a.fetchMetrics=l.fetchMetrics,ai&&(null==m?void 0:m.revalidate)===0&&!J.isDev&&!ap){let a=l.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${_}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:u.CachedRouteKind.APP_PAGE,html:k,headers:n,rscData:l.flightData,postponed:l.postponed,status:l.statusCode,segmentData:l.segmentData},cacheControl:m}},l=async({hasResolved:d,previousCacheEntry:g,isRevalidating:i,span:j})=>{let k,l=!1===J.isDev,n=d||b.writableEnded;if(af&&aa&&!g&&!M)return(null==ab?void 0:ab.render404)?await ab.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ag&&(k=(0,v.parseFallbackField)(ag.fallback)),k===v.FallbackMode.PRERENDER&&(0,t.isBot)(aj)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),(null==g?void 0:g.isStale)===-1&&(af=!0),af&&(k!==v.FallbackMode.NOT_FOUND||g)&&(k=v.FallbackMode.BLOCKING_STATIC_RENDER),!M&&k!==v.FallbackMode.BLOCKING_STATIC_RENDER&&az&&!n&&!$&&S&&(l||!ah)){let b;if((l||ag)&&k===v.FallbackMode.NOT_FOUND)throw new A.NoFallbackError;if(ap&&!an){if(b=await J.handleResponse({cacheKey:l?ae:null,req:a,nextConfig:ac,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:Z,isRoutePPREnabled:ap,responseGenerator:async()=>f({span:j,postponed:void 0,fallbackRouteParams:l||ar?(0,m.u)(ae):null}),waitUntil:c.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=af||i||!as?void 0:as;if(aq&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:u.CachedRouteKind.PAGES,html:w.default.fromStatic(""),pageData:{},headers:void 0,status:void 0}};let p=S&&ap&&((0,h.getRequestMeta)(a,"renderFallbackShell")||ar)?(0,m.u)(ad):null;return f({span:j,postponed:o,fallbackRouteParams:p})},n=async d=>{var g,i,j,k,m;let n,o=await J.handleResponse({cacheKey:ay,responseGenerator:a=>l({span:d,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:af,isRoutePPREnabled:ap,req:a,nextConfig:ac,prerenderManifest:Z,waitUntil:c.waitUntil});if($&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),J.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!o){if(ay)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(g=o.value)?void 0:g.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(j=o.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof o.value.postponed;ai&&!at&&(!p||am)&&(M||b.setHeader("x-nextjs-cache",af?"REVALIDATED":o.isMiss?"MISS":o.isStale?"STALE":"HIT"),b.setHeader(s.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=o;if(as)n={revalidate:0,expire:void 0};else if(M&&an&&!am&&ap)n={revalidate:0,expire:void 0};else if(!J.isDev)if($)n={revalidate:0,expire:void 0};else if(ai){if(o.cacheControl)if("number"==typeof o.cacheControl.revalidate){if(o.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${o.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});n={revalidate:o.cacheControl.revalidate,expire:(null==(k=o.cacheControl)?void 0:k.expire)??ac.expireTime}}else n={revalidate:x.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(n={revalidate:0,expire:void 0});if(o.cacheControl=n,"string"==typeof au&&(null==q?void 0:q.kind)===u.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(m=q.headers)?void 0:m[x.NEXT_CACHE_TAGS_HEADER];M&&ai&&c&&"string"==typeof c&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(au);return void 0!==d?(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(d),cacheControl:o.cacheControl}):(b.statusCode=204,(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(""),cacheControl:o.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...o,value:{...o.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&as)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(M&&ai||delete a[x.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let t=null==(i=q.headers)?void 0:i[x.NEXT_CACHE_TAGS_HEADER];if(M&&ai&&t&&"string"==typeof t&&b.setHeader(x.NEXT_CACHE_TAGS_HEADER,t),!q.status||an&&ap||(b.statusCode=q.status),!M&&q.status&&E.RedirectStatusCode[q.status]&&an&&(b.statusCode=200),p&&b.setHeader(s.NEXT_DID_POSTPONE_HEADER,"1"),an&&!$){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:q.html,cacheControl:at?{revalidate:0,expire:void 0}:o.cacheControl})}return(0,z.sendRenderResult)({req:a,res:b,type:"rsc",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:w.default.fromStatic(q.rscData),cacheControl:o.cacheControl})}let v=q.html;if(!p||M)return(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:o.cacheControl});if(aq)return v.chain(new ReadableStream({start(a){a.enqueue(y.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}});let A=new TransformStream;return v.chain(A.readable),f({span:d,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==u.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(A.writable)}).catch(a=>{A.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,z.sendRenderResult)({req:a,res:b,type:"html",generateEtags:ac.generateEtags,poweredByHeader:ac.poweredByHeader,result:v,cacheControl:{revalidate:0,expire:void 0}})};if(!aD)return await aC.withPropagatedContext(a.headers,()=>aC.trace(i.BaseServerSpan.handleRequest,{spanName:`${aB} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aB,"http.target":a.url}},n));await n(aD)}catch(b){throw aD||b instanceof A.NoFallbackError||await J.onRequestError(a,b,{routerKind:"App Router",routePath:B,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ai,isOnDemandRevalidate:af})},ab),b}}},72628:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f});var d=c(60687);c(43210);var e=c(16189);function f({children:a}){return(0,e.useRouter)(),(0,d.jsx)(d.Fragment,{children:a})}},75223:(a,b,c)=>{Promise.resolve().then(c.bind(c,97786))},78204:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Asus\\\\Desktop\\\\BETA\\\\BETA-FRONTEND\\\\next\\\\app\\\\_clients\\\\AdminDashboardClient.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Asus\\Desktop\\BETA\\BETA-FRONTEND\\next\\app\\_clients\\AdminDashboardClient.tsx","default")},81070:()=>{},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},95101:()=>{},97786:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Asus\\\\Desktop\\\\BETA\\\\BETA-FRONTEND\\\\next\\\\app\\\\admin\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Asus\\Desktop\\BETA\\BETA-FRONTEND\\next\\app\\admin\\layout.tsx","default")}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[676,246,544],()=>b(b.s=71875));module.exports=c})();