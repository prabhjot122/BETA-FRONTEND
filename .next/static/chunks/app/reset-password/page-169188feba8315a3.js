(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4700],{339:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var a=r(5155);r(2115),r(9223);let t=e=>{let{size:s="medium",message:r,className:t="",overlay:n=!1,fullPage:l=!1,transparent:o=!1}=e,i=["loading-spinner",s,t,n?"overlay":"",l?"fullpage":"",o?"transparent":""].filter(Boolean).join(" ");return(0,a.jsxs)("div",{className:i,children:[(0,a.jsxs)("div",{className:"spinner",children:[(0,a.jsx)("div",{className:"spinner-ring"}),(0,a.jsx)("div",{className:"spinner-ring"}),(0,a.jsx)("div",{className:"spinner-ring"})]}),r&&(0,a.jsx)("p",{className:"loading-message",children:r})]})}},395:()=>{},3249:(e,s,r)=>{"use strict";r.d(s,{default:()=>m});var a=r(5155),t=r(2115),n=r(6874),l=r.n(n),o=r(5695),i=r(5967),d=r(339),c=r(5743);r(6345);let u=()=>{let e=(0,o.useSearchParams)(),s=(0,o.useRouter)(),r=e.get("token"),[n,u]=(0,t.useState)(""),[m,x]=(0,t.useState)(""),[h,p]=(0,t.useState)(!1),[j,w]=(0,t.useState)(null),[f,g]=(0,t.useState)(!1),[v,N]=(0,t.useState)(!1),[b,y]=(0,t.useState)(null);(0,t.useEffect)(()=>{r||w("Invalid or missing reset token")},[r]),(0,t.useEffect)(()=>{n?y(i.y.checkPasswordStrength(n)):y(null)},[n]);let k=async e=>{if(e.preventDefault(),!r)return void w("Invalid or missing reset token");if(!n)return void w("Please enter a new password");if(n!==m)return void w("Passwords do not match");if(b&&!b.isValid)return void w("Please choose a stronger password");try{p(!0),w(null);let e=await i.y.resetPassword(r,n);e.success?(g(!0),setTimeout(()=>{s.push("/admin/login")},3e3)):w(e.message||"Failed to reset password")}catch(e){w(e instanceof Error?e.message:"Failed to reset password")}finally{p(!1)}};return r?f?(0,a.jsx)("div",{className:"reset-password-container",children:(0,a.jsx)("div",{className:"reset-password-card",children:(0,a.jsxs)("div",{className:"reset-password-header",children:[(0,a.jsx)("div",{className:"reset-password-icon success",children:(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("h2",{className:"reset-password-title",children:"Password Reset Successful"}),(0,a.jsx)("p",{className:"reset-password-subtitle",children:"Your password has been successfully reset. You can now log in with your new password."}),(0,a.jsx)("p",{className:"reset-password-subtitle",style:{marginTop:"1rem",color:"#9ca3af"},children:"Redirecting to login page in 3 seconds..."}),(0,a.jsx)("div",{className:"reset-password-success-actions",children:(0,a.jsx)(l(),{href:"/admin/login",className:"reset-password-success-button",children:"Go to login page now"})})]})})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100",children:(0,a.jsx)("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),(0,a.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your new password below"})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:k,children:[j&&(0,a.jsx)(c.A,{message:j}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)("input",{id:"password",name:"password",type:v?"text":"password",required:!0,value:n,onChange:e=>u(e.target.value),className:"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your new password"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>N(!v),children:(0,a.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v?(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})})})]}),b&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(b.score<=1?"bg-red-500":b.score<=2?"bg-yellow-500":b.score<=3?"bg-blue-500":"bg-green-500"),style:{width:"".concat(b.score/5*100,"%")}})}),(0,a.jsx)("span",{className:"text-xs font-medium ".concat(b.score<=1?"text-red-600":b.score<=2?"text-yellow-600":b.score<=3?"text-blue-600":"text-green-600"),children:b.feedback[0]||"Password strength"})]}),b.feedback.length>1&&(0,a.jsx)("ul",{className:"mt-1 text-xs text-gray-600 space-y-1",children:b.feedback.slice(1).map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:v?"text":"password",required:!0,value:m,onChange:e=>x(e.target.value),className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm your new password"})}),m&&n!==m&&(0,a.jsx)("p",{className:"mt-1 text-xs text-red-600",children:"Passwords do not match"})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:h||!(null==b?void 0:b.isValid)||n!==m,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,a.jsx)(d.A,{size:"small"}):"Reset Password"})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(l(),{href:"/admin/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Back to login"})})]})]})}):(0,a.jsx)("div",{className:"reset-password-container",children:(0,a.jsx)("div",{className:"reset-password-card",children:(0,a.jsxs)("div",{className:"reset-password-header",children:[(0,a.jsx)("div",{className:"reset-password-icon error",children:(0,a.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsx)("h2",{className:"reset-password-title",children:"Invalid Reset Link"}),(0,a.jsx)("p",{className:"reset-password-subtitle",children:"This password reset link is invalid or has expired."}),(0,a.jsx)("div",{className:"reset-password-links",children:(0,a.jsx)(l(),{href:"/forgot-password",className:"reset-password-link",children:"Request a new reset link"})})]})})})};function m(){return(0,a.jsx)(u,{})}},5695:(e,s,r)=>{"use strict";var a=r(8999);r.o(a,"usePathname")&&r.d(s,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})},5743:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var a=r(5155);r(2115),r(395);let t=e=>{let{message:s,title:r="Error",onRetry:t,className:n="",variant:l="error"}=e;return(0,a.jsxs)("div",{className:"error-message ".concat(l," ").concat(n),children:[(0,a.jsxs)("div",{className:"error-content",children:[(0,a.jsx)("div",{className:"error-icon",children:(()=>{switch(l){case"warning":return"⚠️";case"info":return"ℹ️";default:return"❌"}})()}),(0,a.jsxs)("div",{className:"error-text",children:[(0,a.jsx)("h3",{className:"error-title",children:r}),(0,a.jsx)("p",{className:"error-description",children:s})]})]}),t&&(0,a.jsx)("button",{onClick:t,className:"error-retry-btn",children:"Try Again"})]})}},6345:()=>{},9223:()=>{},9523:(e,s,r)=>{Promise.resolve().then(r.bind(r,3249))}},e=>{e.O(0,[9614,7674,4431,6874,5967,8441,5964,7358],()=>e(e.s=9523)),_N_E=e.O()}]);