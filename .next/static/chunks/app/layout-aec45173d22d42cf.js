(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{3574:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var i=r(5155);r(2115);var n=r(6947);function s(e){let{children:t}=e;return(0,i.jsx)(n.O,{children:t})}},5090:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9324,23)),Promise.resolve().then(r.bind(r,3574)),Promise.resolve().then(r.bind(r,6259)),Promise.resolve().then(r.bind(r,6063)),Promise.resolve().then(r.bind(r,8930)),Promise.resolve().then(r.t.bind(r,9243,23)),Promise.resolve().then(r.t.bind(r,2353,23)),Promise.resolve().then(r.t.bind(r,7275,23))},6947:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,O:()=>a});var i=r(5155),n=r(2115),s=r(5967);let o=(0,n.createContext)(void 0),l=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},a=e=>{let{children:t}=e,[r,l]=(0,n.useState)(null),[a,u]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{u(!0);try{if(s.y.isAuthenticated()){let e=await s.y.validateToken();l(e)}}catch(e){console.error("Auth initialization failed:",e),s.y.logout()}finally{u(!1)}})()},[]);let d=async(e,t)=>{u(!0);try{await s.y.login({email:e,password:t});let r=await s.y.getCurrentUser();return l(r),u(!1),!0}catch(e){return console.error("Login failed:",e),u(!1),!1}},h=()=>{s.y.logout(),l(null)},c=async()=>{try{if(s.y.isAuthenticated()){let e=await s.y.getCurrentUser();l(e)}}catch(e){console.error("Failed to refresh user:",e),h()}},v={user:r,isAuthenticated:!!r,isAdmin:!!(null==r?void 0:r.is_admin),login:d,logout:h,loading:a,refreshUser:c};return(0,i.jsx)(o.Provider,{value:v,children:t})}},9324:()=>{}},e=>{e.O(0,[519,556,5967,8441,5964,7358],()=>e(e.s=5090)),_N_E=e.O()}]);