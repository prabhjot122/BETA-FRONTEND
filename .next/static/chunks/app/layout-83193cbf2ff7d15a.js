(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{2353:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_5cfdac",variable:"__variable_5cfdac"}},3574:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var r=a(5155);a(2115);var i=a(6947);function l(e){let{children:t}=e;return(0,r.jsx)(i.O,{children:t})}},6947:(e,t,a)=>{"use strict";a.d(t,{A:()=>n,O:()=>o});var r=a(5155),i=a(2115),l=a(5967);let s=(0,i.createContext)(void 0),n=()=>{let e=(0,i.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},o=e=>{let{children:t}=e,[a,n]=(0,i.useState)(null),[o,c]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{c(!0);try{if(l.y.isAuthenticated()){let e=await l.y.validateToken();n(e)}}catch(e){console.error("Auth initialization failed:",e),l.y.logout()}finally{c(!1)}})()},[]);let u=async(e,t)=>{c(!0);try{await l.y.login({email:e,password:t});let a=await l.y.getCurrentUser();return n(a),c(!1),!0}catch(e){return console.error("Login failed:",e),c(!1),!1}},d=()=>{l.y.logout(),n(null)},h=async()=>{try{if(l.y.isAuthenticated()){let e=await l.y.getCurrentUser();n(e)}}catch(e){console.error("Failed to refresh user:",e),d()}},y={user:a,isAuthenticated:!!a,isAdmin:!!(null==a?void 0:a.is_admin),login:u,logout:d,loading:o,refreshUser:h};return(0,r.jsx)(s.Provider,{value:y,children:t})}},7275:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},9324:()=>{},9554:(e,t,a)=>{Promise.resolve().then(a.bind(a,3574)),Promise.resolve().then(a.t.bind(a,2353,23)),Promise.resolve().then(a.t.bind(a,7275,23)),Promise.resolve().then(a.t.bind(a,9324,23))}},e=>{e.O(0,[519,5967,8441,5964,7358],()=>e(e.s=9554)),_N_E=e.O()}]);