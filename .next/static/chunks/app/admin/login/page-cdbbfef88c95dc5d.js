(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2116],{1771:(e,a,s)=>{Promise.resolve().then(s.bind(s,2872))},2872:(e,a,s)=>{"use strict";s.d(a,{default:()=>u});var r=s(5155),t=s(2115),i=s(6947),n=s(6874),l=s.n(n),d=s(5695);s(6728);let o=()=>{let[e,a]=(0,t.useState)(""),[s,n]=(0,t.useState)(""),[o,u]=(0,t.useState)(""),{login:c,loading:h}=(0,i.A)(),m=(0,d.useRouter)(),f=async a=>{if(a.preventDefault(),u(""),!e||!s)return void u("Please fill in all fields");await c(e,s)?m.push("/admin/dashboard"):u("Invalid admin credentials")};return(0,r.jsx)("div",{className:"admin-login-container",children:(0,r.jsxs)("div",{className:"admin-login-card",children:[(0,r.jsxs)("div",{className:"admin-login-header",children:[(0,r.jsx)("h1",{children:"LawVriksh Admin"}),(0,r.jsx)("p",{children:"Administrative Access Portal"})]}),(0,r.jsxs)("form",{onSubmit:f,className:"admin-login-form",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,r.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>a(e.target.value),placeholder:"admin@lawvriksh.com",disabled:h})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"password",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",value:s,onChange:e=>n(e.target.value),placeholder:"Enter your password",disabled:h})]}),o&&(0,r.jsx)("div",{className:"error-message",children:o}),(0,r.jsx)("button",{type:"submit",className:"admin-login-btn",disabled:h,children:h?"Signing In...":"Sign In"}),(0,r.jsx)("div",{className:"admin-login-links",children:(0,r.jsx)(l(),{href:"/forgot-password",className:"forgot-password-link",children:"Forgot your password?"})})]})]})})};function u(){return(0,r.jsx)(o,{})}},5695:(e,a,s)=>{"use strict";var r=s(8999);s.o(r,"usePathname")&&s.d(a,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(a,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(a,{useSearchParams:function(){return r.useSearchParams}})},6728:()=>{},6947:(e,a,s)=>{"use strict";s.d(a,{A:()=>l,O:()=>d});var r=s(5155),t=s(2115),i=s(5967);let n=(0,t.createContext)(void 0),l=()=>{let e=(0,t.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},d=e=>{let{children:a}=e,[s,l]=(0,t.useState)(null),[d,o]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{o(!0);try{if(i.y.isAuthenticated()){let e=await i.y.validateToken();l(e)}}catch(e){console.error("Auth initialization failed:",e),i.y.logout()}finally{o(!1)}})()},[]);let u=async(e,a)=>{o(!0);try{await i.y.login({email:e,password:a});let s=await i.y.getCurrentUser();return l(s),o(!1),!0}catch(e){return console.error("Login failed:",e),o(!1),!1}},c=()=>{i.y.logout(),l(null)},h=async()=>{try{if(i.y.isAuthenticated()){let e=await i.y.getCurrentUser();l(e)}}catch(e){console.error("Failed to refresh user:",e),c()}},m={user:s,isAuthenticated:!!s,isAdmin:!!(null==s?void 0:s.is_admin),login:u,logout:c,loading:d,refreshUser:h};return(0,r.jsx)(n.Provider,{value:m,children:a})}}},e=>{e.O(0,[985,6874,5967,8441,5964,7358],()=>e(e.s=1771)),_N_E=e.O()}]);