(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2402],{395:()=>{},2402:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>u});var o=t(5155),s=t(2115),r=t(5695),l=t(802),i=t(5136),n=t(5743),c=t(5967);function u(e){let{isOpen:a,onClose:t}=e,u=(0,r.useRouter)(),[p,d]=(0,s.useState)({name:"",email:""}),{state:m,execute:y}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,[a,t]=(0,s.useState)({data:e,loading:!1,error:null}),o=(0,s.useCallback)(async e=>{t(e=>({...e,loading:!0,error:null}));try{let a=await e();return t(e=>({...e,data:a,loading:!1,error:null})),a}catch(a){let e=a instanceof Error?a.message:"An unexpected error occurred";return t(a=>({...a,loading:!1,error:e})),null}},[]),r=(0,s.useCallback)(()=>{t({data:e,loading:!1,error:null})},[e]),l=(0,s.useCallback)(e=>{t(a=>({...a,data:e,error:null}))},[]);return{state:a,execute:o,reset:r,setData:l,setError:(0,s.useCallback)(e=>{t(a=>({...a,error:e,loading:!1}))},[]),setLoading:(0,s.useCallback)(e=>{t(a=>({...a,loading:e}))},[])}}(),[h,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{a?(l.Ay.set(".waitlist-popup",{display:"flex"}),l.Ay.fromTo(".waitlist-popup__overlay",{opacity:0},{opacity:1,duration:.3,ease:"power2.out"}),l.Ay.fromTo(".waitlist-popup__content",{scale:.8,opacity:0,y:50},{scale:1,opacity:1,y:0,duration:.4,ease:"back.out(1.7)",delay:.1}),l.Ay.fromTo(".waitlist-popup__title",{opacity:0,y:30},{opacity:1,y:0,duration:.5,delay:.3}),l.Ay.fromTo(".waitlist-popup__description",{opacity:0,y:20},{opacity:1,y:0,duration:.5,delay:.4}),l.Ay.fromTo(".waitlist-popup__form-group",{opacity:0,y:20},{opacity:1,y:0,duration:.4,delay:.5,stagger:.1}),l.Ay.fromTo(".waitlist-popup__form-button",{opacity:0,scale:.9},{opacity:1,scale:1,duration:.4,delay:.7,ease:"back.out(1.7)"})):(l.Ay.to(".waitlist-popup__content",{scale:.8,opacity:0,y:50,duration:.3,ease:"power2.in"}),l.Ay.to(".waitlist-popup__overlay",{opacity:0,duration:.3,delay:.1,onComplete:()=>{l.Ay.set(".waitlist-popup",{display:"none"})}}))},[a]);let f=e=>{let{name:a,value:t}=e.target;d(e=>({...e,[a]:t}))},_=async e=>{e.preventDefault();try{let e="temp-password-"+Date.now();if(await y(()=>c.y.signup({name:p.name,email:p.email,password:e}))){console.log("✅ Signup successful, now logging in user...");try{let a=await c.y.login({email:p.email,password:e});console.log("✅ Auto-login successful after signup"),console.log("\uD83C\uDFAB Login result:",a);let t=c.y.isAuthenticated();console.log("\uD83D\uDD10 User authenticated after login:",t),t||console.error("❌ User not authenticated despite successful login")}catch(e){console.error("❌ Auto-login failed after signup:",e)}g(!0),l.Ay.fromTo(".waitlist-popup__success",{scale:0,opacity:0},{scale:1,opacity:1,duration:.5,ease:"back.out(1.7)"}),setTimeout(()=>{t(),g(!1);let e=p.name||"User";d({name:"",email:""});try{localStorage.setItem("thankYouName",e)}catch(e){}u.push("/thank-you?user=".concat(encodeURIComponent(e)))},10)}}catch(e){console.error("Signup failed:",e)}},w=e=>{e.target===e.currentTarget&&t()},x=e=>{e.preventDefault(),e.stopPropagation(),t()};return((0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a&&t()};return a&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[a,t]),a)?(0,o.jsxs)("div",{className:"waitlist-popup",onClick:w,onTouchEnd:w,children:[(0,o.jsx)("div",{className:"waitlist-popup__overlay"}),(0,o.jsx)("div",{className:"waitlist-popup__content",children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{className:"waitlist-popup__close",onClick:x,onTouchEnd:x,"aria-label":"Close popup",type:"button",children:"\xd7"}),(0,o.jsxs)("div",{className:"waitlist-popup__header",children:[(0,o.jsx)("h2",{className:"waitlist-popup__title",children:"Join the Waitlist"}),(0,o.jsxs)("p",{className:"waitlist-popup__description",children:["Be among the first to experience LawVriksh's AI-powered platform for legal professionals. Get early access and exclusive updates. ",(0,o.jsx)("strong",{children:"Limited seats available"})," – secure your spot in our exclusive beta program and join the select few shaping the future of legal technology."]})]}),(0,o.jsxs)("form",{className:"waitlist-popup__form",onSubmit:_,children:[(0,o.jsxs)("div",{className:"waitlist-popup__form-group",children:[(0,o.jsx)("label",{htmlFor:"name",className:"waitlist-popup__label",children:"Full Name"}),(0,o.jsx)("input",{type:"text",id:"name",name:"name",value:p.name,onChange:f,className:"waitlist-popup__input",required:!0,placeholder:"Enter your full name"})]}),(0,o.jsxs)("div",{className:"waitlist-popup__form-group",children:[(0,o.jsx)("label",{htmlFor:"email",className:"waitlist-popup__label",children:"Email Address"}),(0,o.jsx)("input",{type:"email",id:"email",name:"email",value:p.email,onChange:f,className:"waitlist-popup__input",required:!0,placeholder:"Enter your email address"})]}),(0,o.jsx)("div",{className:"waitlist-popup__form-button",children:(0,o.jsx)(i.A,{type:"submit",disabled:m.loading,size:"large",children:m.loading?"Joining...":"Join Waitlist"})}),m.error&&(0,o.jsx)(n.A,{message:m.error})]})]})})]}):null}t(6247)},5695:(e,a,t)=>{"use strict";var o=t(8999);t.o(o,"usePathname")&&t.d(a,{usePathname:function(){return o.usePathname}}),t.o(o,"useRouter")&&t.d(a,{useRouter:function(){return o.useRouter}}),t.o(o,"useSearchParams")&&t.d(a,{useSearchParams:function(){return o.useSearchParams}})},5743:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});var o=t(5155);t(2115),t(395);let s=e=>{let{message:a,title:t="Error",onRetry:s,className:r="",variant:l="error"}=e;return(0,o.jsxs)("div",{className:"error-message ".concat(l," ").concat(r),children:[(0,o.jsxs)("div",{className:"error-content",children:[(0,o.jsx)("div",{className:"error-icon",children:(()=>{switch(l){case"warning":return"⚠️";case"info":return"ℹ️";default:return"❌"}})()}),(0,o.jsxs)("div",{className:"error-text",children:[(0,o.jsx)("h3",{className:"error-title",children:t}),(0,o.jsx)("p",{className:"error-description",children:a})]})]}),s&&(0,o.jsx)("button",{onClick:s,className:"error-retry-btn",children:"Try Again"})]})}},6247:()=>{}}]);